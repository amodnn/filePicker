(function(a){a.fn.prepopulate=function(c,b){return this.each(function(){var d=a(this);d.data("_changed",false);d.change(function(){d.data("_changed",true)});var e=function(){if(d.data("_changed")==true){return}var f=[],i,h,g;c.each(function(){if(a(this).val().length>0){f.push(a(this).val())}});s=f.join(" ");s=a.slugifyString(s);s=s.substring(0,b);g=d.val().split("/");g[g.length-1]=s;d.val(g.join("/"))};c.keyup(e).change(e).focus(e)})}})(jQuery);(function(g){var c=g.browser.msie&&parseInt(g.browser.version)===6&&typeof window.XMLHttpRequest!=="object",a=g.browser.msie&&parseInt(g.browser.version)===7,b=null,e=[];g.modal=function(f,d){return g.modal.impl.init(f,d)};g.modal.close=function(){g.modal.impl.close()};g.modal.focus=function(d){g.modal.impl.focus(d)};g.modal.setContainerDimensions=function(){g.modal.impl.setContainerDimensions()};g.modal.setPosition=function(){g.modal.impl.setPosition()};g.modal.update=function(f,d){g.modal.impl.update(f,d)};g.fn.modal=function(d){return g.modal.impl.init(this,d)};g.modal.defaults={appendTo:"body",focus:true,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:false,autoPosition:true,zIndex:1000,close:true,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:true,overlayClose:false,position:null,persist:false,modal:true,onOpen:null,onShow:null,onClose:null};g.modal.impl={d:{},init:function(f,d){var h=this;if(h.d.data){return false}b=g.browser.msie&&!g.boxModel;h.o=g.extend({},g.modal.defaults,d);h.zIndex=h.o.zIndex;h.occb=false;if(typeof f==="object"){f=f instanceof jQuery?f:g(f);h.d.placeholder=false;if(f.parent().parent().size()>0){f.before(g("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"}));h.d.placeholder=true;h.display=f.css("display");if(!h.o.persist){h.d.orig=f.clone(true)}}}else{if(typeof f==="string"||typeof f==="number"){f=g("<div></div>").html(f)}else{alert("SimpleModal Error: Unsupported data type: "+typeof f);return h}}h.create(f);h.open();g.isFunction(h.o.onShow)&&h.o.onShow.apply(h,[h.d]);return h},create:function(f){var d=this;e=d.getDimensions();if(d.o.modal&&c){d.d.iframe=g('<iframe src="javascript:false;"></iframe>').css(g.extend(d.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:e[0],width:e[1],zIndex:d.o.zIndex,top:0,left:0})).appendTo(d.o.appendTo)}d.d.overlay=g("<div></div>").attr("id",d.o.overlayId).addClass("simplemodal-overlay").css(g.extend(d.o.overlayCss,{display:"none",opacity:d.o.opacity/100,height:d.o.modal?e[0]:0,width:d.o.modal?e[1]:0,position:"fixed",left:0,top:0,zIndex:d.o.zIndex+1})).appendTo(d.o.appendTo);d.d.container=g("<div></div>").attr("id",d.o.containerId).addClass("simplemodal-container").css(g.extend(d.o.containerCss,{display:"none",position:"fixed",zIndex:d.o.zIndex+2})).append(d.o.close&&d.o.closeHTML?g(d.o.closeHTML).addClass(d.o.closeClass):"").appendTo(d.o.appendTo);d.d.wrap=g("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(d.d.container);d.d.data=f.attr("id",f.attr("id")||d.o.dataId).addClass("simplemodal-data").css(g.extend(d.o.dataCss,{display:"none"})).appendTo("body");d.setContainerDimensions();d.d.data.appendTo(d.d.wrap);if(c||b){d.fixIE()}},bindEvents:function(){var d=this;g("."+d.o.closeClass).bind("click.simplemodal",function(f){f.preventDefault();d.close()});d.o.modal&&d.o.close&&d.o.overlayClose&&d.d.overlay.bind("click.simplemodal",function(f){f.preventDefault();d.close()});g(document).bind("keydown.simplemodal",function(f){if(d.o.modal&&f.keyCode===9){d.watchTab(f)}else{if(d.o.close&&d.o.escClose&&f.keyCode===27){f.preventDefault();d.close()}}});g(window).bind("resize.simplemodal",function(){e=d.getDimensions();d.o.autoResize?d.setContainerDimensions():d.o.autoPosition&&d.setPosition();if(c||b){d.fixIE()}else{if(d.o.modal){d.d.iframe&&d.d.iframe.css({height:e[0],width:e[1]});d.d.overlay.css({height:e[0],width:e[1]})}}})},unbindEvents:function(){g("."+this.o.closeClass).unbind("click.simplemodal");g(document).unbind("keydown.simplemodal");g(window).unbind("resize.simplemodal");this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var f=this,d=f.o.position;g.each([f.d.iframe||null,!f.o.modal?null:f.d.overlay,f.d.container],function(m,i){if(i){var j=i[0].style;j.position="absolute";if(m<2){j.removeExpression("height");j.removeExpression("width");j.setExpression("height",'document.body.scrollHeight > document.body.clientHeight ? document.body.scrollHeight : document.body.clientHeight + "px"');j.setExpression("width",'document.body.scrollWidth > document.body.clientWidth ? document.body.scrollWidth : document.body.clientWidth + "px"')}else{var l;if(d&&d.constructor===Array){m=d[0]?typeof d[0]==="number"?d[0].toString():d[0].replace(/px/,""):i.css("top").replace(/px/,"");m=m.indexOf("%")===-1?m+' + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"':parseInt(m.replace(/%/,""))+' * ((document.documentElement.clientHeight || document.body.clientHeight) / 100) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"';if(d[1]){l=typeof d[1]==="number"?d[1].toString():d[1].replace(/px/,"");l=l.indexOf("%")===-1?l+' + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"':parseInt(l.replace(/%/,""))+' * ((document.documentElement.clientWidth || document.body.clientWidth) / 100) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"'}}else{m='(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"';l='(document.documentElement.clientWidth || document.body.clientWidth) / 2 - (this.offsetWidth / 2) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"'}j.removeExpression("top");j.removeExpression("left");j.setExpression("top",m);j.setExpression("left",l)}}})},focus:function(f){var d=this;f=f&&g.inArray(f,["first","last"])!==-1?f:"first";var h=g(":input:enabled:visible:"+f,d.d.wrap);setTimeout(function(){h.length>0?h.focus():d.d.wrap.focus()},10)},getDimensions:function(){var d=g(window);return[g.browser.opera&&g.browser.version>"9.5"&&g.fn.jquery<"1.3"||g.browser.opera&&g.browser.version<"9.5"&&g.fn.jquery>"1.2.6"?d[0].innerHeight:d.height(),d.width()]},getVal:function(f,d){return f?typeof f==="number"?f:f==="auto"?0:f.indexOf("%")>0?parseInt(f.replace(/%/,""))/100*(d==="h"?e[0]:e[1]):parseInt(f.replace(/px/,"")):null},update:function(f,d){var h=this;if(!h.d.data){return false}h.d.origHeight=h.getVal(f,"h");h.d.origWidth=h.getVal(d,"w");h.d.data.hide();f&&h.d.container.css("height",f);d&&h.d.container.css("width",d);h.setContainerDimensions();h.d.data.show();h.o.focus&&h.focus();h.unbindEvents();h.bindEvents()},setContainerDimensions:function(){var f=this,d=c||a,q=f.d.origHeight?f.d.origHeight:g.browser.opera?f.d.container.height():f.getVal(d?f.d.container[0].currentStyle.height:f.d.container.css("height"),"h");d=f.d.origWidth?f.d.origWidth:g.browser.opera?f.d.container.width():f.getVal(d?f.d.container[0].currentStyle.width:f.d.container.css("width"),"w");var n=f.d.data.outerHeight(true),o=f.d.data.outerWidth(true);f.d.origHeight=f.d.origHeight||q;f.d.origWidth=f.d.origWidth||d;var p=f.o.maxHeight?f.getVal(f.o.maxHeight,"h"):null,m=f.o.maxWidth?f.getVal(f.o.maxWidth,"w"):null;p=p&&p<e[0]?p:e[0];m=m&&m<e[1]?m:e[1];var l=f.o.minHeight?f.getVal(f.o.minHeight,"h"):"auto";q=q?f.o.autoResize&&q>p?p:q<l?l:q:n?n>p?p:f.o.minHeight&&l!=="auto"&&n<l?l:n:l;p=f.o.minWidth?f.getVal(f.o.minWidth,"w"):"auto";d=d?f.o.autoResize&&d>m?m:d<p?p:d:o?o>m?m:f.o.minWidth&&p!=="auto"&&o<p?p:o:p;f.d.container.css({height:q,width:d});f.d.wrap.css({overflow:n>q||o>d?"auto":"visible"});f.o.autoPosition&&f.setPosition()},setPosition:function(){var f=this,d,h;d=e[0]/2-f.d.container.outerHeight(true)/2;h=e[1]/2-f.d.container.outerWidth(true)/2;if(f.o.position&&Object.prototype.toString.call(f.o.position)==="[object Array]"){d=f.o.position[0]||d;h=f.o.position[1]||h}else{d=d;h=h}f.d.container.css({left:h,top:d})},watchTab:function(f){var d=this;if(g(f.target).parents(".simplemodal-container").length>0){d.inputs=g(":input:enabled:visible:first, :input:enabled:visible:last",d.d.data[0]);if(!f.shiftKey&&f.target===d.inputs[d.inputs.length-1]||f.shiftKey&&f.target===d.inputs[0]||d.inputs.length===0){f.preventDefault();d.focus(f.shiftKey?"last":"first")}}else{f.preventDefault();d.focus()}},open:function(){var d=this;d.d.iframe&&d.d.iframe.show();if(g.isFunction(d.o.onOpen)){d.o.onOpen.apply(d,[d.d])}else{d.d.overlay.show();d.d.container.show();d.d.data.show()}d.o.focus&&d.focus();d.bindEvents()},close:function(){var f=this;if(!f.d.data){return false}f.unbindEvents();if(g.isFunction(f.o.onClose)&&!f.occb){f.occb=true;f.o.onClose.apply(f,[f.d])}else{if(f.d.placeholder){var d=g("#simplemodal-placeholder");if(f.o.persist){d.replaceWith(f.d.data.removeClass("simplemodal-data").css("display",f.display))}else{f.d.data.hide().remove();d.replaceWith(f.d.orig)}}else{f.d.data.hide().remove()}f.d.container.hide().remove();f.d.overlay.hide();f.d.iframe&&f.d.iframe.hide().remove();setTimeout(function(){f.d.overlay.remove();f.d={}},10)}}}})(jQuery);(function(L,i){var F,N,ab,U;var w,Y;var a=("localStorage" in window),I="wiki-page-edit",j,D,E;function T(){L("select.enable-if-js").removeAttr("disabled");var ad="wiki-page-translate";if(L("#"+ad).length){I=ad;D=true}j="#"+I;var ag=L("body");if(ag.hasClass("is-template")){E=1}if(ag.is(".new")){p()}m();if(ag.is(".document")||ag.is(".home")){y();e()}else{if(ag.is(".review")){H()}}if(ag.is(".document")){d()}if(ag.is(".home")){S()}if(ag.is(".edit, .new, .translate")){P();g();f();l();if(!E){c()}z()}if(ag.is(".edit.is-template")||ag.is(".new.is-template")){var ac=L("textarea#id_content").hide();var ae=window.ace_editor=ace.edit("ace_content");ae.setTheme("ace/theme/dreamweaver");ae.setBehavioursEnabled(false);var af=require("ace/mode/javascript").Mode;var ah=ae.getSession();ah.setMode(new af());ah.setValue(ac.val());ah.on("change",function(){ac.val(ae.getSession().getValue())});L(".ace_text-input").focus();c()}if(ag.is(".move-page")){b()}}var v=["HGROUP","H1","H2","H3","H4","H5","H6"];function e(){var ac=L("body.document #wikiArticle");if(!ac.length){return}ac.click(function(ad){var ae=L(ad.target);if(ae.is("a.edit-section")){return o(ad,ae)}if(ae.is(".edited-section-ui.current .btn-save")){A();return false}if(ae.is(".edited-section-ui.current .btn-cancel")){V();return false}})}function o(ag,ah){if(ag.metaKey||ag.altKey||ag.ctrlKey||ag.shiftKey){return}var ai=ah.attr("data-section-id"),ae=ah.attr("href"),al=ah.attr("data-section-src-url"),aj=L("#"+ai),ac=aj[0].tagName.toUpperCase();if(!aj.length){return}if(-1==v.indexOf(ac)){return}if(L(".edited-section-ui.current").length){if(!V()){return false}}if(aj.parents("div.edited-section").length){return false}var af=v.indexOf(ac)+1,ak=v.slice(0,af).join(",");var ad=aj.nextUntil(ak).andSelf();ad.wrapAll('<div class="edited-section edited-section-loading" id="edited-section"/>');L.get(al,function(am){q(ai,ae,am)});return false}function q(ac,af,ad){var ae=L(".edited-section-ui.template").clone().removeClass("template").addClass("current").find(".src").html(ad).end();L("#edited-section").before(ae).removeClass("edited-section-loading");CKEDITOR.inlineHeight=ae.find(".src").height();CKEDITOR.inlineCallback=function(){ae.find(".edited-section-buttons").addClass("loaded")};L(".edited-section-ui.current").data("edit_url",af).data("editor",CKEDITOR.replace(ae.find(".src")[0],{customConfig:"/docs/ckeditor_config.js"})).find(".btn-save").data("save_cb",A).end()}function V(){var ac=L("#content-main > article").attr("data-cancel-edit-message"),ad=confirm(ac);if(!ad){return false}M();return true}function A(){var ag=L(".edited-section-ui.current"),af=ag.data("edit_url"),ae=ag.data("editor"),ah=L("#content-main > article"),ad=ah.attr("data-current-revision"),ac=ah.attr("data-refresh-message");ag.addClass("edited-section-ui-saving");ae.updateElement();var ai=L(".edited-section-ui.current .src").html();L.ajax({type:"POST",url:af+"&raw=1",data:{form:"rev",content:ai,current_rev:ad},error:function(al,aj,ak){if("409"==al.status){L("form.conflict-bouncer").attr("action",af).find("input[name=current_rev]").val(ad).end().find("input[name=content]").val(ai).end().submit();return}alert("Error saving section, please try again.");ag.removeClass(".edited-section-ui-saving")},success:function(ak,aj,al){if("205"==al.status){alert(ac);window.location.reload();return}L("#edited-section").html(ak);M();ah.attr("data-current-revision",al.getResponseHeader("x-kuma-revision"))}})}function M(){L(".edited-section-ui.current").each(function(){var ac=L(this);ac.data("editor").destroy();ac.remove()});L("#edited-section").children().unwrap()}function S(){C();L("#os, #browser").change(C)}function C(){var ac=true;L("#home-content-explore section").removeClass("odd");L("#home-content-explore section:visible").each(function(){if(ac){L(this).addClass("odd")}ac=!ac})}function m(){var ac=("open" in document.createElement("details"));if(!ac){document.documentElement.className+=" no-details";L("details").each(function(){var ad=L(this),af=L("summary",ad),ae=ad.children(":not(summary)"),ag=ad.contents(":not(summary)");if(!af.length){af=L(document.createElement("summary")).text("Details").prependTo(ad)}if(ae.length!==ag.length){ag.filter(function(){return(this.nodeType===3)&&(/[^\t\n\r ]/.test(this.data))}).wrap("<span>");ae=ad.children(":not(summary)")}if(typeof ad.attr("open")!=="undefined"){ad.addClass("open");ae.show()}else{ae.hide()}af.attr("tabindex",0).click(function(){af.focus();if(typeof ad.attr("open")!=="undefined"){ad.removeAttr("open")}else{ad.attr("open","open")}ae.slideToggle();ad.toggleClass("open")}).keyup(function(ah){if(13===ah.keyCode||32===ah.keyCode){if(!(L.browser.opera&&13===ah.keyCode)){ah.preventDefault();af.click()}}})})}}function B(){function ac(ae,ad){if((ae===undefined)||(ad===undefined)||!ab[ae]){return}for(var af=0;af<ab[ae].length;af++){if(ad<ab[ae][af][0]){return ae+ab[ae][af][1]}}}return ac(BrowserDetect.browser,BrowserDetect.version)}function h(){var ae={},ac=document.location.hash.substr(1).split("&"),af;for(var ad=0;ad<ac.length;ad++){af=ac[ad].split("=");ae[af[0]]=af[1]}return ae}function n(){var ac=L("#os"),am=L("#browser"),ae=am.find("option").clone(),af=L("body"),ah=h(),aq;F=ac.data("oses");N=am.data("browsers");ab=am.data("version-groups");U=i("[missing header]");L("#toc > h2").text(i("Table of Contents"));function ak(){r(L("select#os").val(),L("select#browser").val());L("#toc > :not(h2)").remove();L("#toc").append(Z(L("#doc-content"),"#toc h2"));return false}function ap(){var at=h();if(!document.location.hash||at.hasOwnProperty("os")||at.hasOwnProperty("browser")){var ar="os="+ac.val()+"&browser="+am.val();document.location.replace(document.location.href.split("#")[0]+"#"+ar)}}function ad(){L.cookie("for_os",ac.val(),{path:"/"});L.cookie("for_browser",am.val(),{path:"/"});ap()}function ag(){L.cookie("for_os",null,{path:"/"});L.cookie("for_browser",null,{path:"/"})}function aj(){return ac.find('[value="'+ac.val()+'"]').data("dependency")}function ai(at,aw){var ay=aj(),au,az,ax;if(!aw&&af.is(".home")&&!af.is("."+ay)){ad();var av=document.location.href;if(af.is(".mobile")){document.location=av.replace("/mobile","/home")}else{document.location=av.replace("/home","/mobile")}}au=am.val();ax=ae.filter('[data-dependency="'+ay+'"]');am.empty().append(ax);var ar=au.replace(/^\D+/,"");am.find("option").each(function(){var aA=L(this);if(aA.val().replace(/^\D+/,"")==ar){am.val(aA.val())}})}function ao(ax,aw,au,av,at){var ar=au[aw];isManual=true;if(!ar){ar=L.cookie(ax);if(!ar){ar=av();isManual=false}}if(ar){at.val(ar)}return isManual}function an(at,ar){at.val(at.find('option:not([data-dependency="'+ar+'"]):first').attr("value"))}function al(){var au,ar=false;if(af.is(".home")){au=aj();if(!af.is("."+au)){var at=ac.find("[value="+BrowserDetect.OS+"]");if(at.data("dependency")!=au){ac.val(at.attr("value"));am.val(B());ag()}else{an(ac,au);an(am,au);ad();ar=true}}}return ar}aq=ao("for_os","os",ah,function(){return BrowserDetect.OS},ac);aq|=ao("for_browser","browser",ah,B,am);aq|=al();ai(null,true);if(aq){ap()}ac.change(ai);ac.change(ad);ac.change(ak);am.change(ad);am.change(ak);ak()}function p(){var ac={title:{id:"#id_slug",dependency_ids:["#id_title"],dependency_list:["#id_title"],maxLength:50}};L.each(ac,function(ad,ae){L(ae.id).addClass("prepopulated_field");L(ae.id).data("dependency_list",ae.dependency_list).prepopulate(L(ae.dependency_ids.join(",")),ae.maxLength)})}function Z(af,ag){function ai(al,ak){return parseInt(ak.tagName.charAt(1),10)}var ae=af.find(":header:not(:hidden)"),ah=L("<ol />"),aj=ah,ad=Math.min.apply(Math,ae.map(ai).get());ae.each(function ac(an){var al=ai(0,this),ak=L(this);if(al>4){return}if(ag&&ak.is(ag)){return}for(;ad>al;ad--){aj=aj.parent().closest("ol")}for(;ad<al;ad++){var ao=aj.children().last();if(ao.length===0){ao=L("<li />").append(L("<em />").text(U)).appendTo(aj)}aj=L("<ol />").appendTo(ao)}var am=ak.clone(),ap=ak.find(":hidden").remove().end().text();ak.replaceWith(am);aj.append(L("<li />").text(ap).wrapInner(L("<a>").attr("href","#"+ak.attr("id"))))});return ah}function r(ad,ac){L(".for").each(function(ah){var ae={},aj={},ai=false,ag=false,al,ak,af;al=L(this).data("for");if(!al){return}ak=al.substring(0,4)=="not ";if(ak){al=al.substring(4)}L(al.split(",")).each(function(am){if(F[this]!=undefined){ae[this]=true;ai=true}else{if(N[this]!=undefined){aj[this]=true;ag=true}}});af=(ai&&ae[ad]==undefined)||(ag&&aj[ac]==undefined);if((af&&!ak)||(!af&&ak)){L(this).hide()}else{L(this).show()}})}function f(){L("#btn-preview").click(function(af){af.preventDefault();var ag=" ",ad=L("#id_title"),ae;if(CKEDITOR.instances.id_content){ae=L.trim(CKEDITOR.instances.id_content.getSnapshot())}else{if(ace_editor&&ace_editor){ae=L.trim(ace_editor.getSession().getValue())}else{return}}if(ad.length){ag=ad.val()}if(ae){var ac=L("<form action='"+L(this).attr("data-preview-url")+"' target='previewWin' method='POST' />").appendTo(document.body);L("<input type='hidden' name='content' />").val(ae).appendTo(ac);L("<input type='hidden' name='title' />").val(ag).appendTo(ac);L("input[name=csrfmiddlewaretoken]").clone().appendTo(ac);ac.get(0).submit();ac.remove()}return false})}var Q=false;function y(){var ac=L('#helpful-vote input[type="submit"]');ac.click(function(ag){if(!Q){var ae=L(this),ad=ae.closest("form"),af={};ac.attr("disabled","disabled");ad.addClass("busy");af[ae.attr("name")]=ae.val();L.ajax({url:ae.closest("form").attr("action"),type:"POST",data:af,dataType:"json",success:function(ah){J(ah.message,ae);ae.addClass("active");ac.removeAttr("disabled");ad.removeClass("busy");Q=true},error:function(){var ah=i("There was an error generating the preview.");J(ah,ae);ac.removeAttr("disabled");ad.removeClass("busy")}})}L(this).blur();ag.preventDefault();return false})}function J(af,ad){var ac=L('<div class="message-box"><p></p></div>'),ag=ad.offset();ac.find("p").html(af);L("body").append(ac);ac.css({top:ag.top-ac.height()-30,left:ag.left+ad.width()/2-ac.width()/2});var ah=setTimeout(ae,10000);L("body").one("click",ae);function ae(){ac.fadeOut(function(){ac.remove()});L("body").unbind("click",ae);clearTimeout(ah)}}function u(){L("#support-for input.selectbox, #support-for div.selectbox-wrapper").remove();L("#support-for select").selectbox()}function W(){L("#id_title").change(function(){var ah=L(this),ag=ah.closest("form"),ai=ah.val(),af=L("#id_slug").val();ac(ai,ag);ad(af,ag)});L("#id_slug").change(function(){var ah=L(this),ag=ah.closest("form"),af=L("#id_slug").val();ad(af,ag)});function ac(ah,af){var ag=i("A document with this title already exists in this locale.");ae("title",ah,L("#id_title"),af,ag)}function ad(ag,af){var ah=i("A document with this slug already exists in this locale.");ae("slug",ag,L("#id_slug"),af,ah)}function ae(ag,ak,ah,af,ai){ah.removeClass("error");ah.parent().find("ul.errorlist").remove();var aj={};aj[ag]=ak;L.ajax({url:af.data("json-url"),type:"GET",data:aj,dataType:"json",success:function(am){var al=af.data("document-id");if(!al||(am.id&&am.id!==parseInt(al))){ah.addClass("error");ah.before(L('<ul class="errorlist"><li/></ul>').find("li").text(ai).end())}},error:function(am,al){if(am.status===404){}else{}}})}}function P(){if(L("#article-head .metadata").length>0){var ac=function(ad){ad.preventDefault();L("#article-head .title").hide();L("#article-head .metadata").show();L("#article-head .metadata #id_title").focus()};L("#btn-properties").click(ac);L("#edit-document .errorlist").each(ac)}else{L("#btn-properties").hide()}}function z(){var ad=L("#article-head .metadata .metadata-choose-parent"),ac=L("#parent_id");if(ad.length){ad.css("display","block");L("#parent_text").mozillaAutocomplete({minLength:1,requireValidOption:true,autocompleteUrl:mdn.wiki.autosuggestTitleUrl,_renderItemAsLink:true,buildRequestData:function(ae){ae.locale="en-US";return ae},onSelect:function(ae,af){ac.val(ae.id)},onDeselect:function(ae){ac.val("")}})}}function x(){var ac=location.pathname.replace("$edit",""),ad;if(D){ad="draft/translate"+ac+"/"+location.search.replace("?tolocale=","");ad=ad.replace("$translate","")}else{if(L("#id_current_rev").val()){ad="draft/edit"+ac}else{ad="draft/new"}}if(E){ad+="/template"}ad=L.trim(ad);return ad}var R;function O(ae){var af=i('You have a draft in progress.  <a href="" class="restoreLink">Restore the draft content</a> or <a href="" class="discardLink">discard the draft</a>.'),ad=L("#id_content"),ac;R=L('<div class="notice"><p>'+af+"</p></div>").insertBefore(ad);R.find(".restoreLink").click(function(ag){ag.preventDefault();ad.val(ae);if(E){ac=ace_editor;ace_editor.session.setValue(ae)}else{ac=ad.ckeditorGet();ac.setData(ae)}ac.focus();K("loaded");X()});R.find(".discardLink").click(function(ag){ag.preventDefault();X();aa()})}function X(){R&&R.css("display","none")}function g(){L("#btn-save").click(function(){if(a){aa()}clearTimeout(Y);L(j).attr("action","").removeAttr("target");return true});L("#btn-save-and-edit").click(function(){var ac=L(j+" textarea[name=content]").val();if(a){G(ac)}clearTimeout(Y);L(j).attr("action","?iframe=1").attr("target","save-and-edit-target");L(this).addClass("loading");return true});L("#btn-save-and-edit").show();L("#save-and-edit-target").load(function(){if(a){var ac=L("#save-and-edit-target")[0].contentDocument;if(typeof(ac)!="undefined"){var ad=L("#iframe-response",ac);if("OK"==ad.attr("data-status")){localStorage.removeItem(w);L(j+" input[name=current_rev]").val(ad.attr("data-current-revision"))}else{if(L(j,ac).hasClass("conflict")){L(j).attr("action","").attr("target","");L("#btn-save").click()}}}}L("#btn-save-and-edit").removeClass("loading");L("#id_comment").val("");L(j).data("disabled",false).removeClass("disabled");return true})}function K(ad){var ac=new Date();nowString=ac.toLocaleDateString()+" "+ac.toLocaleTimeString();L("#draft-action").text(ad);L("#draft-time").attr("title",ac.toISOString()).text(nowString)}function G(ac){if(a){localStorage.setItem(w,ac||L(j+" textarea[name=content]").val());K(i("saved"))}}function aa(){if(a){localStorage.removeItem(w)}}function c(){var af;w=x();if(a){var ag=localStorage.getItem(w),ae=function(ai){return(ai||"").replace(/ /g,"&nbsp;")},ad=L.trim(ae(ag)),ac=ae(L(j+" textarea[name=content]").val().trim());if(ag){if(ad==ac){aa()}else{O(ag)}}}var ah=function(){clearTimeout(Y);Y=setTimeout(G,3000)};if(E){ace_editor.on&&ace_editor.on("change",ah)}else{L("#id_content").ckeditorGet().on("key",ah)}L("#btn-discard").click(function(){clearTimeout(Y);aa()})}function H(){var ad=L("#approve-modal"),ac=L("#reject-modal");L("#btn-approve").click(function(){ad.show();ac.hide()});ad.hide();L("#btn-reject").click(function(){ac.show();ad.hide()});ac.hide()}function d(){L(".htab").each(function(ac){var ad=L(this),ae=ad.find(">ul>li");ad.append(L("div[id=compat-desktop]")[ac]);ad.append(L("div[id=compat-mobile]")[ac]);ae.find("a").click(function(){var af=L(this);ae.removeClass("selected");af.parent().addClass("selected");ad.find(">div").hide().eq(ae.index(af.parent())).show()}).eq(0).click()})}function l(){var ac=L("#page-attachments-table"),aj=L("#page-attachments-count"),ag=L("#page-attachments-button"),ak=L("#page-attachments-no-message"),al=L("#page-attachments-new-table"),ai=L("#page-attachments-form"),ah=al.find("tbody tr").first(),ae=al.find("tbody tr").last(),ad=L("#page-attachments-spinner"),am=L("#page-attachments-upload-target"),an=ai.length&&ai.attr("action"),af=false;if(!ac.length){return}ag.bind("click",function(ao){ao.preventDefault();al.toggleClass("hidden");if(!al.hasClass("hidden")){al.find("input[type=text]").first()[0].focus()}});L("#page-attachments-more").bind("click",function(){if(af){return}function ao(){$clone=ah.clone();$clone.find("input, textarea").val("");$clone.find(".attachment-error").remove();$clone.insertBefore(ae);$clone.addClass("dynamic-row");al.find(".page-attachment-actions-cell").removeClass("hidden");$clone.find(".delete-attachment").removeClass("hidden");return $clone}ao().find('input[type="text"]')[0].focus()});L("<input type='hidden' name='is_ajax' value='1' />").appendTo(ai);am.bind("load",function(at){af=false;ai.data("disabled",false);try{var au=am.contents().find("textarea").first(),ar=[],aq=[],ap,ao;if(au.length){ao=JSON.parse(L.trim(au.val()));$dynamicRows=al.find(".dynamic-row");L.each(ao,function(av){if(this.id){var ax=L(this.html);ax.appendTo(ac);ax.addClass("new-row");aj.text(parseInt(aj.text(),10)+1);if(mdn.wiki.attachments){mdn.wiki.attachments.push(this)}ar.push(av);if(!av){ah.find("input, textarea").val("")}else{var aw=$dynamicRows.eq(av)[0];$dynamicRows[av]="";aw.parentNode.removeChild(aw)}}else{aq.push(av)}});ak.addClass("hidden");ac.removeClass("hidden");if(ar.length==ao.length){ai[0].reset();$dynamicRows.remove()}else{L.each(aq,function(){if(this==0){L('<div class="attachment-error"></div>').appendTo(ah.find(".page-attachment-actions-file-cell")).text(ao[this]["error"])}})}}else{console.warn("No textarea")}}catch(at){console.warn("Exception! ",at)}ad.css("opacity",0)});ai.attr("target","page-attachments-upload-target").bind("submit",function(ap){if(af){return}al.find(".attachment-error").remove();var ao=true;al.find("input[required], textarea[required]").each(function(){var aq=L(this);if(aq.val()==""){ap.preventDefault();ap.stopPropagation();aq.addClass("attachment-required");ao=false}else{aq.removeClass("attachment-required")}});if(!ao){af=false;setTimeout(function(){ai.data("disabled",false)},200);return}ad.css("opacity",1)})}function b(){var ad=L("#moveSlug"),aj=L("#parentSuggestion"),ag=L(".parentSuggestContainer"),ah=L(".moveLookupLink"),af=L("#currentSlug").val(),ac=L("#moveLocale").val(),ae=function(){ag.removeClass("show");ad[0].focus();aj.mozillaAutocomplete("clear");aj.attr("disabled","disabled")};aj.mozillaAutocomplete({minLength:1,requireValidOption:true,autocompleteUrl:mdn.wiki.autosuggestTitleUrl,_renderItemAsLink:true,buildRequestData:function(ak){ak.locale=ac;return ak},onSelect:function(ak,al){ad.val(ak.slug+"/"+af);if(!al){ae()}},onDeselect:function(ak){ad.val("")}});ah.click(function(ak){ak.preventDefault();ag.addClass("show");aj[0].disabled=false;aj[0].focus()});aj.on("blur",ae);ad.on("blur",function(){ah.focus()});var ai=new RegExp(ad.attr("data-validator"),"i");ad.on("change keyup focus blur",function(){this.value=this.value.replace(ai,"")})}L(document).ready(T)}(jQuery,gettext));k={};(function(){k.LAZY_DELAY=500;k.MEDIA_URL="/media/";$(document).ready(function(){$("#content ul.errorlist a").click(function(){$($(this).attr("href")).focus();return false});if($("body").data("readonly")=="true"){$forms=$("form[method=post]");$forms.find("input, button, select, textarea").attr("disabled","disabled");$forms.find("input[type=image]").css("opacity",0.5)}d();b();c()});function d(){$("select.autosubmit").change(function(){$(this).closest("form").submit()})}function b(){$("form").submit(function(e){var f=$(this);if(f.hasClass("nodisable")){return}if(f.data("disabled")){e.preventDefault()}else{f.data("disabled",true).addClass("disabled")}f.ajaxComplete(function(){f.data("disabled",false).removeClass("disabled");f.unbind("ajaxComplete")})})}function c(){var e=["js/libs/jqueryui.min.js"],g=[],f;$.each($("script"),function(){var i=$(this).attr("src");if(!i){return}a(e,i)});$.each($('link[rel="stylesheet"]'),function(){a(g,$(this).attr("href"))});setTimeout(function h(){for(f in e){$.get(k.MEDIA_URL+e[f])}for(f in g){$("head").append('<link rel="stylesheet" type="text/css" href="'+k.MEDIA_URL+g[f]+'">')}},k.LAZY_DELAY)}function a(e,g){g=g.toLowerCase();for(var f in e){if(g.indexOf(e[f])>=0){e.splice(f,1)}}}})();jQuery.fn.autoPlaceholderText=function(){if(!Modernizr.input.placeholder){function a(){var c=$(this);if(c.val()===c.attr("placeholder")){c.val("").addClass("placeholder-focused")}}function b(){var c=$(this);if(c.val()===""){c.val(c.attr("placeholder")).removeClass("placeholder-focused")}}this.each(function(){var c=$(this);var d=c.attr("placeholder");if(d){if(!c.val()||c.val()===d){c.val(d).addClass("input-placeholder")}c.focus(a).blur(b)}})}return this};$(document).ajaxSend(function(c,f,b){function a(g){var m=null;if(document.cookie&&document.cookie!=""){var l=document.cookie.split(";");for(var j=0;j<l.length;j++){var h=jQuery.trim(l[j]);if(h.substring(0,g.length+1)==(g+"=")){m=decodeURIComponent(h.substring(g.length+1));break}}}return m}function e(h){var j=document.location.host;var l=document.location.protocol;var i="//"+j;var g=l+i;return(h==g||h.slice(0,g.length+1)==g+"/")||(h==i||h.slice(0,i.length+1)==i+"/")||!(/^(\/\/|http:|https:).*/.test(h))}function d(g){return(/^(GET|HEAD|OPTIONS|TRACE)$/.test(g))}if(!d(b.type)&&e(b.url)){f.setRequestHeader("X-CSRFToken",a("csrftoken"))}});
/*
 * jQuery UI 1.8.4
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(d,b){function a(c){return !d(c).parents().andSelf().filter(function(){return d.curCSS(this,"visibility")==="hidden"||d.expr.filters.hidden(this)}).length}d.ui=d.ui||{};if(!d.ui.version){d.extend(d.ui,{version:"1.8.4",plugin:{add:function(f,c,h){f=d.ui[f].prototype;for(var g in h){f.plugins[g]=f.plugins[g]||[];f.plugins[g].push([c,h[g]])}},call:function(f,c,h){if((c=f.plugins[c])&&f.element[0].parentNode){for(var g=0;g<c.length;g++){f.options[c[g][0]]&&c[g][1].apply(f.element,h)}}}},contains:function(e,c){return document.compareDocumentPosition?e.compareDocumentPosition(c)&16:e!==c&&e.contains(c)},hasScroll:function(e,c){if(d(e).css("overflow")==="hidden"){return false}c=c&&c==="left"?"scrollLeft":"scrollTop";var f=false;if(e[c]>0){return true}e[c]=1;f=e[c]>0;e[c]=0;return f},isOverAxis:function(e,c,f){return e>c&&e<c+f},isOver:function(f,c,m,l,j,g){return d.ui.isOverAxis(f,m,j)&&d.ui.isOverAxis(c,l,g)},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});d.fn.extend({_focus:d.fn.focus,focus:function(e,c){return typeof e==="number"?this.each(function(){var f=this;setTimeout(function(){d(f).focus();c&&c.call(f)},e)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none")},scrollParent:function(){var c;c=d.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(d.curCSS(this,"position",1))&&/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(d.curCSS(this,"overflow",1)+d.curCSS(this,"overflow-y",1)+d.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?d(document):c},zIndex:function(e){if(e!==b){return this.css("zIndex",e)}if(this.length){e=d(this[0]);for(var c;e.length&&e[0]!==document;){c=e.css("position");if(c==="absolute"||c==="relative"||c==="fixed"){c=parseInt(e.css("zIndex"));if(!isNaN(c)&&c!=0){return c}}e=e.parent()}}return 0}});d.each(["Width","Height"],function(f,c){function m(n,i,h,e){d.each(l,function(){i-=parseFloat(d.curCSS(n,"padding"+this,true))||0;if(h){i-=parseFloat(d.curCSS(n,"border"+this+"Width",true))||0}if(e){i-=parseFloat(d.curCSS(n,"margin"+this,true))||0}});return i}var l=c==="Width"?["Left","Right"]:["Top","Bottom"],j=c.toLowerCase(),g={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};d.fn["inner"+c]=function(e){if(e===b){return g["inner"+c].call(this)}return this.each(function(){d.style(this,j,m(this,e)+"px")})};d.fn["outer"+c]=function(h,e){if(typeof h!=="number"){return g["outer"+c].call(this,h)}return this.each(function(){d.style(this,j,m(this,h,true,e)+"px")})}});d.extend(d.expr[":"],{data:function(e,c,f){return !!d.data(e,f[3])},focusable:function(e){var c=e.nodeName.toLowerCase(),f=d.attr(e,"tabindex");if("area"===c){c=e.parentNode;f=c.name;if(!e.href||!f||c.nodeName.toLowerCase()!=="map"){return false}e=d("img[usemap=#"+f+"]")[0];return !!e&&a(e)}return(/input|select|textarea|button|object/.test(c)?!e.disabled:"a"==c?e.href||!isNaN(f):!isNaN(f))&&a(e)},tabbable:function(e){var c=d.attr(e,"tabindex");return(isNaN(c)||c>=0)&&d(e).is(":focusable")}})}})(jQuery);
/*
 * jQuery UI Widget 1.8.4
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(a,d){var c=a.fn.remove;a.fn.remove=function(b,e){return this.each(function(){if(!e){if(!b||a.filter(b,[this]).length){a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")})}}return c.call(a(this),b,e)})};a.widget=function(b,j,i){var h=b.split(".")[0],g;b=b.split(".")[1];g=h+"-"+b;if(!i){i=j;j=a.Widget}a.expr[":"][g]=function(e){return !!a.data(e,b)};a[h]=a[h]||{};a[h][b]=function(e,f){arguments.length&&this._createWidget(e,f)};j=new j;j.options=a.extend(true,{},j.options);a[h][b].prototype=a.extend(true,j,{namespace:h,widgetName:b,widgetEventPrefix:a[h][b].prototype.widgetEventPrefix||b,widgetBaseClass:g},i);a.widget.bridge(b,a[h][b])};a.widget.bridge=function(b,e){a.fn[b]=function(l){var j=typeof l==="string",i=Array.prototype.slice.call(arguments,1),g=this;l=!j&&i.length?a.extend.apply(null,[true,l].concat(i)):l;if(j&&l.substring(0,1)==="_"){return g}j?this.each(function(){var h=a.data(this,b),f=h&&a.isFunction(h[l])?h[l].apply(h,i):h;if(f!==h&&f!==d){g=f;return false}}):this.each(function(){var f=a.data(this,b);if(f){l&&f.option(l);f._init()}else{a.data(this,b,new e(l,this))}});return g}};a.Widget=function(b,e){arguments.length&&this._createWidget(b,e)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(b,f){a.data(f,this.widgetName,this);this.element=a(f);this.options=a.extend(true,{},this.options,a.metadata&&a.metadata.get(f)[this.widgetName],b);var e=this;this.element.bind("remove."+this.widgetName,function(){e.destroy()});this._create();this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,h){var g=b,f=this;if(arguments.length===0){return a.extend({},f.options)}if(typeof b==="string"){if(h===d){return this.options[b]}g={};g[b]=h}a.each(g,function(i,e){f._setOption(i,e)});return f},_setOption:function(b,e){this.options[b]=e;if(b==="disabled"){this.widget()[e?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",e)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(b,j,i){var h=this.options[b];j=a.Event(j);j.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();i=i||{};if(j.originalEvent){b=a.event.props.length;for(var g;b;){g=a.event.props[--b];j[g]=j.originalEvent[g]}}this.element.trigger(j,i);return !(a.isFunction(h)&&h.call(this.element[0],j,i)===false||j.isDefaultPrevented())}}})(jQuery);(function(f){f.ui=f.ui||{};var a=/left|center|right/,e=/top|center|bottom/,d=f.fn.position,b=f.fn.offset;f.fn.position=function(j){if(!j||!j.of){return d.apply(this,arguments)}j=f.extend({},j);var c=f(j.of),p=(j.collision||"flip").split(" "),o=j.offset?j.offset.split(" "):[0,0],n,m,l;if(j.of.nodeType===9){n=c.width();m=c.height();l={top:0,left:0}}else{if(j.of.scrollTo&&j.of.document){n=c.width();m=c.height();l={top:c.scrollTop(),left:c.scrollLeft()}}else{if(j.of.preventDefault){j.at="left top";n=m=0;l={top:j.of.pageY,left:j.of.pageX}}else{n=c.outerWidth();m=c.outerHeight();l=c.offset()}}}f.each(["my","at"],function(){var g=(j[this]||"").split(" ");if(g.length===1){g=a.test(g[0])?g.concat(["center"]):e.test(g[0])?["center"].concat(g):["center","center"]}g[0]=a.test(g[0])?g[0]:"center";g[1]=e.test(g[1])?g[1]:"center";j[this]=g});if(p.length===1){p[1]=p[0]}o[0]=parseInt(o[0],10)||0;if(o.length===1){o[1]=o[0]}o[1]=parseInt(o[1],10)||0;if(j.at[0]==="right"){l.left+=n}else{if(j.at[0]==="center"){l.left+=n/2}}if(j.at[1]==="bottom"){l.top+=m}else{if(j.at[1]==="center"){l.top+=m/2}}l.left+=o[0];l.top+=o[1];return this.each(function(){var q=f(this),h=q.outerWidth(),g=q.outerHeight(),i=f.extend({},l);if(j.my[0]==="right"){i.left-=h}else{if(j.my[0]==="center"){i.left-=h/2}}if(j.my[1]==="bottom"){i.top-=g}else{if(j.my[1]==="center"){i.top-=g/2}}i.left=parseInt(i.left);i.top=parseInt(i.top);f.each(["left","top"],function(v,u){f.ui.position[p[v]]&&f.ui.position[p[v]][u](i,{targetWidth:n,targetHeight:m,elemWidth:h,elemHeight:g,offset:o,my:j.my,at:j.at})});f.fn.bgiframe&&q.bgiframe();q.offset(f.extend(i,{using:j.using}))})};f.ui.position={fit:{left:function(g,c){var h=f(window);c=g.left+c.elemWidth-h.width()-h.scrollLeft();g.left=c>0?g.left-c:Math.max(0,g.left)},top:function(g,c){var h=f(window);c=g.top+c.elemHeight-h.height()-h.scrollTop();g.top=c>0?g.top-c:Math.max(0,g.top)}},flip:{left:function(h,c){if(c.at[0]!=="center"){var l=f(window);l=h.left+c.elemWidth-l.width()-l.scrollLeft();var j=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,i=-2*c.offset[0];h.left+=h.left<0?j+c.targetWidth+i:l>0?j-c.targetWidth+i:0}},top:function(i,c){if(c.at[1]!=="center"){var n=f(window);n=i.top+c.elemHeight-n.height()-n.scrollTop();var m=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,l=c.at[1]==="top"?c.targetHeight:-c.targetHeight,j=-2*c.offset[1];i.top+=i.top<0?m+c.targetHeight+j:n>0?m+l+j:0}}}};if(!f.offset.setOffset){f.offset.setOffset=function(i,c){if(/static/.test(f.curCSS(i,"position"))){i.style.position="relative"}var n=f(i),m=n.offset(),l=parseInt(f.curCSS(i,"top",true),10)||0,j=parseInt(f.curCSS(i,"left",true),10)||0;m={top:c.top-m.top+l,left:c.left-m.left+j};"using" in c?c.using.call(i,m):n.css(m)};f.fn.offset=function(g){var c=this[0];if(!c||!c.ownerDocument){return null}if(g){return this.each(function(){f.offset.setOffset(this,g)})}return b.call(this)}}})(jQuery);(function(a){a.widget("ui.autocomplete",{options:{appendTo:"body",delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},_create:function(){var d=this,c=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(e){if(!d.options.disabled){var b=a.ui.keyCode;switch(e.keyCode){case b.PAGE_UP:d._move("previousPage",e);break;case b.PAGE_DOWN:d._move("nextPage",e);break;case b.UP:d._move("previous",e);e.preventDefault();break;case b.DOWN:d._move("next",e);e.preventDefault();break;case b.ENTER:case b.NUMPAD_ENTER:d.menu.element.is(":visible")&&e.preventDefault();case b.TAB:if(!d.menu.active){return}d.menu.select(e);break;case b.ESCAPE:d.element.val(d.term);d.close(e);break;default:clearTimeout(d.searching);d.searching=setTimeout(function(){if(d.term!=d.element.val()){d.selectedItem=null;d.search(null,e)}},d.options.delay);break}}}).bind("focus.autocomplete",function(){if(!d.options.disabled){d.selectedItem=null;d.previous=d.element.val()}}).bind("blur.autocomplete",function(b){if(!d.options.disabled){clearTimeout(d.searching);d.closing=setTimeout(function(){d.close(b);d._change(b)},150)}});this._initSource();this.response=function(){return d._response.apply(d,arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(e){var b=d.menu.element[0];e.target===b&&setTimeout(function(){a(document).one("mousedown",function(g){g.target!==d.element[0]&&g.target!==b&&!a.ui.contains(b,g.target)&&d.close()})},1);setTimeout(function(){clearTimeout(d.closing)},13)}).menu({focus:function(e,b){b=b.item.data("item.autocomplete");false!==d._trigger("focus",null,{item:b})&&/^key/.test(e.originalEvent.type)&&d.element.val(b.value)},selected:function(g,e){e=e.item.data("item.autocomplete");var b=d.previous;if(d.element[0]!==c.activeElement){d.element.focus();d.previous=b}false!==d._trigger("select",g,{item:e})&&d.element.val(e.value);d.close(g);d.selectedItem=e},blur:function(){d.menu.element.is(":visible")&&d.element.val()!==d.term&&d.element.val(d.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");a.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(d,c){a.Widget.prototype._setOption.apply(this,arguments);d==="source"&&this._initSource();if(d==="appendTo"){this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0])}},_initSource:function(){var d,c;if(a.isArray(this.options.source)){d=this.options.source;this.source=function(e,b){b(a.ui.autocomplete.filter(d,e.term))}}else{if(typeof this.options.source==="string"){c=this.options.source;this.source=function(e,b){a.getJSON(c,e,b)}}else{this.source=this.options.source}}},search:function(d,c){d=d!=null?d:this.element.val();if(d.length<this.options.minLength){return this.close(c)}clearTimeout(this.closing);if(this._trigger("search")!==false){return this._search(d)}},_search:function(b){this.term=this.element.addClass("ui-autocomplete-loading").val();this.source({term:b},this.response)},_response:function(b){if(b.length){b=this._normalize(b);this._suggest(b);this._trigger("open")}else{this.close()}this.element.removeClass("ui-autocomplete-loading")},close:function(b){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this._trigger("close",b);this.menu.element.hide();this.menu.deactivate()}},_change:function(b){this.previous!==this.element.val()&&this._trigger("change",b,{item:this.selectedItem})},_normalize:function(b){if(b.length&&b[0].label&&b[0].value){return b}return a.map(b,function(c){if(typeof c==="string"){return{label:c,value:c}}return a.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(e){var d=this.menu.element.empty().zIndex(this.element.zIndex()+1),f;this._renderMenu(d,e);this.menu.deactivate();this.menu.refresh();this.menu.element.show().position(a.extend({of:this.element},this.options.position));e=d.width("").outerWidth();f=this.element.outerWidth();d.outerWidth(Math.max(e,f))},_renderMenu:function(e,d){var f=this;a.each(d,function(c,b){f._renderItem(e,b)})},_renderItem:function(d,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(d)},_move:function(d,c){if(this.menu.element.is(":visible")){if(this.menu.first()&&/^previous/.test(d)||this.menu.last()&&/^next/.test(d)){this.element.val(this.term);this.menu.deactivate()}else{this.menu[d](c)}}else{this.search(null,c)}},widget:function(){return this.menu.element}});a.extend(a.ui.autocomplete,{escapeRegex:function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(e,d){var f=new RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(e,function(b){return f.test(b.label||b.value||b)})}})})(jQuery);(function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(a(c.target).closest(".ui-menu-item a").length){c.preventDefault();b.select(c)}});this.refresh()},refresh:function(){var b=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(g,e){this.deactivate();if(this.hasScroll()){var j=e.offset().top-this.element.offset().top,i=this.element.attr("scrollTop"),h=this.element.height();if(j<0){this.element.attr("scrollTop",i+j)}else{j>h&&this.element.attr("scrollTop",i+j-h+e.height())}}this.active=e.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",g,{item:e})},deactivate:function(){if(this.active){this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null}},next:function(b){this.move("next",".ui-menu-item:first",b)},previous:function(b){this.move("prev",".ui-menu-item:last",b)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,d,f){if(this.active){e=this.active[e+"All"](".ui-menu-item").eq(0);e.length?this.activate(f,e):this.activate(f,this.element.children(d))}else{this.activate(f,this.element.children(d))}},nextPage:function(f){if(this.hasScroll()){if(!this.active||this.last()){this.activate(f,this.element.children(":first"))}else{var e=this.active.offset().top,h=this.element.height(),g=this.element.children("li").filter(function(){var b=a(this).offset().top-e-h+a(this).height();return b<10&&b>-10});g.length||(g=this.element.children(":last"));this.activate(f,g)}}else{this.activate(f,this.element.children(!this.active||this.last()?":first":":last"))}},previousPage:function(e){if(this.hasScroll()){if(!this.active||this.first()){this.activate(e,this.element.children(":last"))}else{var d=this.active.offset().top,f=this.element.height();result=this.element.children("li").filter(function(){var b=a(this).offset().top-d+f-a(this).height();return b<10&&b>-10});result.length||(result=this.element.children(":first"));this.activate(e,result)}}else{this.activate(e,this.element.children(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(b){this._trigger("selected",b,{item:this.active})}})})(jQuery);(function(b,a){b.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(d){var c=b(this).css(d).offset().top;c<0&&b(this).css("top",d.top-c)}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}var i=this,c=i.options,o=c.title||i.originalTitle||"&#160;",m=b.ui.dialog.getTitleId(i.element),l=(i.uiDialog=b("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c.dialogClass).css({zIndex:c.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(d){if(c.closeOnEscape&&d.keyCode&&d.keyCode===b.ui.keyCode.ESCAPE){i.close(d);d.preventDefault()}}).attr({role:"dialog","aria-labelledby":m}).mousedown(function(d){i.moveToTop(false,d)});i.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(l);var n=(i.uiDialogTitlebar=b("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(l),j=b('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass("ui-state-hover")},function(){j.removeClass("ui-state-hover")}).focus(function(){j.addClass("ui-state-focus")}).blur(function(){j.removeClass("ui-state-focus")}).click(function(d){i.close(d);return false}).appendTo(n);(i.uiDialogTitlebarCloseText=b("<span></span>")).addClass("ui-icon ui-icon-closethick").text(c.closeText).appendTo(j);b("<span></span>").addClass("ui-dialog-title").attr("id",m).html(o).prependTo(n);if(b.isFunction(c.beforeclose)&&!b.isFunction(c.beforeClose)){c.beforeClose=c.beforeclose}n.find("*").add(n).disableSelection();c.draggable&&b.fn.draggable&&i._makeDraggable();c.resizable&&b.fn.resizable&&i._makeResizable();i._createButtons(c.buttons);i._isOpen=false;b.fn.bgiframe&&l.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var c=this;c.overlay&&c.overlay.destroy();c.uiDialog.hide();c.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");c.uiDialog.remove();c.originalTitle&&c.element.attr("title",c.originalTitle);return c},widget:function(){return this.uiDialog},close:function(e){var c=this,f;if(false!==c._trigger("beforeClose",e)){c.overlay&&c.overlay.destroy();c.uiDialog.unbind("keypress.ui-dialog");c._isOpen=false;if(c.options.hide){c.uiDialog.hide(c.options.hide,function(){c._trigger("close",e)})}else{c.uiDialog.hide();c._trigger("close",e)}b.ui.dialog.overlay.resize();if(c.options.modal){f=0;b(".ui-dialog").each(function(){if(this!==c.uiDialog[0]){f=Math.max(f,b(this).css("z-index"))}});b.ui.dialog.maxZ=f}return c}},isOpen:function(){return this._isOpen},moveToTop:function(e,c){var h=this,g=h.options;if(g.modal&&!e||!g.stack&&!g.modal){return h._trigger("focus",c)}if(g.zIndex>b.ui.dialog.maxZ){b.ui.dialog.maxZ=g.zIndex}if(h.overlay){b.ui.dialog.maxZ+=1;h.overlay.$el.css("z-index",b.ui.dialog.overlay.maxZ=b.ui.dialog.maxZ)}e={scrollTop:h.element.attr("scrollTop"),scrollLeft:h.element.attr("scrollLeft")};b.ui.dialog.maxZ+=1;h.uiDialog.css("z-index",b.ui.dialog.maxZ);h.element.attr(e);h._trigger("focus",c);return h},open:function(){if(!this._isOpen){var e=this,c=e.options,f=e.uiDialog;e.overlay=c.modal?new b.ui.dialog.overlay(e):null;f.next().length&&f.appendTo("body");e._size();e._position(c.position);f.show(c.show);e.moveToTop(true);c.modal&&f.bind("keypress.ui-dialog",function(h){if(h.keyCode===b.ui.keyCode.TAB){var d=b(":tabbable",this),i=d.filter(":first");d=d.filter(":last");if(h.target===d[0]&&!h.shiftKey){i.focus(1);return false}else{if(h.target===i[0]&&h.shiftKey){d.focus(1);return false}}}});b(e.element.find(":tabbable").get().concat(f.find(".ui-dialog-buttonpane :tabbable").get().concat(f.get()))).eq(0).focus();e._trigger("open");e._isOpen=true;return e}},_createButtons:function(e){var c=this,j=false,i=b("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),h=b("<div></div>").addClass("ui-dialog-buttonset").appendTo(i);c.uiDialog.find(".ui-dialog-buttonpane").remove();typeof e==="object"&&e!==null&&b.each(e,function(){return !(j=true)});if(j){b.each(e,function(f,d){f=b('<button type="button"></button>').text(f).click(function(){d.apply(c.element[0],arguments)}).appendTo(h);b.fn.button&&f.button()});i.appendTo(c.uiDialog)}},_makeDraggable:function(){function e(d){return{position:d.position,offset:d.offset}}var c=this,j=c.options,i=b(document),h;c.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(f,d){h=j.height==="auto"?"auto":b(this).height();b(this).height(b(this).height()).addClass("ui-dialog-dragging");c._trigger("dragStart",f,e(d))},drag:function(f,d){c._trigger("drag",f,e(d))},stop:function(f,d){j.position=[d.position.left-i.scrollLeft(),d.position.top-i.scrollTop()];b(this).removeClass("ui-dialog-dragging").height(h);c._trigger("dragStop",f,e(d));b.ui.dialog.overlay.resize()}})},_makeResizable:function(e){function c(d){return{originalPosition:d.originalPosition,originalSize:d.originalSize,position:d.position,size:d.size}}e=e===a?this.options.resizable:e;var j=this,i=j.options,h=j.uiDialog.css("position");e=typeof e==="string"?e:"n,e,s,w,se,sw,ne,nw";j.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:j.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:j._minHeight(),handles:e,start:function(f,d){b(this).addClass("ui-dialog-resizing");j._trigger("resizeStart",f,c(d))},resize:function(f,d){j._trigger("resize",f,c(d))},stop:function(f,d){b(this).removeClass("ui-dialog-resizing");i.height=b(this).height();i.width=b(this).width();j._trigger("resizeStop",f,c(d));b.ui.dialog.overlay.resize()}}).css("position",h).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var c=this.options;return c.height==="auto"?c.minHeight:Math.min(c.minHeight,c.height)},_position:function(e){var c=[],h=[0,0],g;if(e){if(typeof e==="string"||typeof e==="object"&&"0" in e){c=e.split?e.split(" "):[e[0],e[1]];if(c.length===1){c[1]=c[0]}b.each(["left","top"],function(d,f){if(+c[d]===c[d]){h[d]=c[d];c[d]=f}});e={my:c.join(" "),at:c.join(" "),offset:h.join(" ")}}e=b.extend({},b.ui.dialog.prototype.options.position,e)}else{e=b.ui.dialog.prototype.options.position}(g=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(e);g||this.uiDialog.hide()},_setOption:function(h,c){var m=this,j=m.uiDialog,i=j.is(":data(resizable)"),l=false;switch(h){case"beforeclose":h="beforeClose";break;case"buttons":m._createButtons(c);l=true;break;case"closeText":m.uiDialogTitlebarCloseText.text(""+c);break;case"dialogClass":j.removeClass(m.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+c);break;case"disabled":c?j.addClass("ui-dialog-disabled"):j.removeClass("ui-dialog-disabled");break;case"draggable":c?m._makeDraggable():j.draggable("destroy");break;case"height":l=true;break;case"maxHeight":i&&j.resizable("option","maxHeight",c);l=true;break;case"maxWidth":i&&j.resizable("option","maxWidth",c);l=true;break;case"minHeight":i&&j.resizable("option","minHeight",c);l=true;break;case"minWidth":i&&j.resizable("option","minWidth",c);l=true;break;case"position":m._position(c);break;case"resizable":i&&!c&&j.resizable("destroy");i&&typeof c==="string"&&j.resizable("option","handles",c);!i&&c!==false&&m._makeResizable(c);break;case"title":b(".ui-dialog-title",m.uiDialogTitlebar).html(""+(c||"&#160;"));break;case"width":l=true;break}b.Widget.prototype._setOption.apply(m,arguments);l&&m._size()},_size:function(){var d=this.options,c;this.element.css({width:"auto",minHeight:0,height:0});if(d.minWidth>d.width){d.width=d.minWidth}c=this.uiDialog.css({height:"auto",width:d.width}).height();this.element.css(d.height==="auto"?{minHeight:Math.max(d.minHeight-c,0),height:"auto"}:{minHeight:0,height:Math.max(d.height-c,0)}).show();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});b.extend(b.ui.dialog,{version:"1.8.4",uuid:0,maxZ:0,getTitleId:function(c){c=c.attr("id");if(!c){this.uuid+=1;c=this.uuid}return"ui-dialog-title-"+c},overlay:function(c){this.$el=b.ui.dialog.overlay.create(c)}});b.extend(b.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:b.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(c){return c+".dialog-overlay"}).join(" "),create:function(d){if(this.instances.length===0){setTimeout(function(){b.ui.dialog.overlay.instances.length&&b(document).bind(b.ui.dialog.overlay.events,function(e){return b(e.target).zIndex()>=b.ui.dialog.overlay.maxZ})},1);b(document).bind("keydown.dialog-overlay",function(e){if(d.options.closeOnEscape&&e.keyCode&&e.keyCode===b.ui.keyCode.ESCAPE){d.close(e);e.preventDefault()}});b(window).bind("resize.dialog-overlay",b.ui.dialog.overlay.resize)}var c=(this.oldInstances.pop()||b("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});b.fn.bgiframe&&c.bgiframe();this.instances.push(c);return c},destroy:function(d){this.oldInstances.push(this.instances.splice(b.inArray(d,this.instances),1)[0]);this.instances.length===0&&b([document,window]).unbind(".dialog-overlay");d.remove();var c=0;b.each(this.instances,function(){c=Math.max(c,this.css("z-index"))});this.maxZ=c},height:function(){var d,c;if(b.browser.msie&&b.browser.version<7){d=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return d<c?b(window).height()+"px":d+"px"}else{return b(document).height()+"px"}},width:function(){var d,c;if(b.browser.msie&&b.browser.version<7){d=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return d<c?b(window).width()+"px":d+"px"}else{return b(document).width()+"px"}},resize:function(){var c=b([]);b.each(b.ui.dialog.overlay.instances,function(){c=c.add(this)});c.css({width:0,height:0}).css({width:b.ui.dialog.overlay.width(),height:b.ui.dialog.overlay.height()})}});b.extend(b.ui.dialog.overlay.prototype,{destroy:function(){b.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(g,f){function e(){return ++c}function b(){return ++a}var c=0,a=0;g.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(true)},_setOption:function(d,h){if(d=="selected"){this.options.collapsible&&h==this.options.selected||this.select(h)}else{this.options[d]=h;this._tabify()}},_tabId:function(d){return d.title&&d.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+e()},_sanitizeSelector:function(d){return d.replace(/:/g,"\\:")},_cookie:function(){var d=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+b());return g.cookie.apply(null,[d].concat(g.makeArray(arguments)))},_ui:function(d,h){return{tab:d,panel:h,index:this.anchors.index(d)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var d=g(this);d.html(d.data("label.tabs")).removeData("label.tabs")})},_tabify:function(z){function w(h,i){h.css("display","");!g.support.opacity&&i.opacity&&h[0].style.removeAttribute("filter")}var y=this,x=this.options,v=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=g("li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return g("a",this)[0]});this.panels=g([]);this.anchors.each(function(m,o){var i=g(o).attr("href"),h=i.split("#")[0],n;if(h&&(h===location.toString().split("#")[0]||(n=g("base")[0])&&h===n.href)){i=o.hash;o.href=i}if(v.test(i)){y.panels=y.panels.add(y._sanitizeSelector(i))}else{if(i!=="#"){g.data(o,"href.tabs",i);g.data(o,"load.tabs",i.replace(/#.*$/,""));i=y._tabId(o);o.href="#"+i;o=g("#"+i);if(!o.length){o=g(x.panelTemplate).attr("id",i).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(y.panels[m-1]||y.list);o.data("destroy.tabs",true)}y.panels=y.panels.add(o)}else{x.disabled.push(m)}}});if(z){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(x.selected===f){location.hash&&this.anchors.each(function(h,i){if(i.hash==location.hash){x.selected=h;return false}});if(typeof x.selected!=="number"&&x.cookie){x.selected=parseInt(y._cookie(),10)}if(typeof x.selected!=="number"&&this.lis.filter(".ui-tabs-selected").length){x.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}x.selected=x.selected||(this.lis.length?0:-1)}else{if(x.selected===null){x.selected=-1}}x.selected=x.selected>=0&&this.anchors[x.selected]||x.selected<0?x.selected:0;x.disabled=g.unique(x.disabled.concat(g.map(this.lis.filter(".ui-state-disabled"),function(h){return y.lis.index(h)}))).sort();g.inArray(x.selected,x.disabled)!=-1&&x.disabled.splice(g.inArray(x.selected,x.disabled),1);this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(x.selected>=0&&this.anchors.length){this.panels.eq(x.selected).removeClass("ui-tabs-hide");this.lis.eq(x.selected).addClass("ui-tabs-selected ui-state-active");y.element.queue("tabs",function(){y._trigger("show",null,y._ui(y.anchors[x.selected],y.panels[x.selected]))});this.load(x.selected)}g(window).bind("unload",function(){y.lis.add(y.anchors).unbind(".tabs");y.lis=y.anchors=y.panels=null})}else{x.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))}this.element[x.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");x.cookie&&this._cookie(x.selected,x.cookie);z=0;for(var u;u=this.lis[z];z++){g(u)[g.inArray(z,x.disabled)!=-1&&!g(u).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled")}x.cache===false&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if(x.event!=="mouseover"){var q=function(h,i){i.is(":not(.ui-state-disabled)")&&i.addClass("ui-state-"+h)},l=function(h,i){i.removeClass("ui-state-"+h)};this.lis.bind("mouseover.tabs",function(){q("hover",g(this))});this.lis.bind("mouseout.tabs",function(){l("hover",g(this))});this.anchors.bind("focus.tabs",function(){q("focus",g(this).closest("li"))});this.anchors.bind("blur.tabs",function(){l("focus",g(this).closest("li"))})}var p,j;if(x.fx){if(g.isArray(x.fx)){p=x.fx[0];j=x.fx[1]}else{p=j=x.fx}}var d=j?function(h,i){g(h).closest("li").addClass("ui-tabs-selected ui-state-active");i.hide().removeClass("ui-tabs-hide").animate(j,j.duration||"normal",function(){w(i,j);y._trigger("show",null,y._ui(h,i[0]))})}:function(h,i){g(h).closest("li").addClass("ui-tabs-selected ui-state-active");i.removeClass("ui-tabs-hide");y._trigger("show",null,y._ui(h,i[0]))},A=p?function(h,i){i.animate(p,p.duration||"normal",function(){y.lis.removeClass("ui-tabs-selected ui-state-active");i.addClass("ui-tabs-hide");w(i,p);y.element.dequeue("tabs")})}:function(h,i){y.lis.removeClass("ui-tabs-selected ui-state-active");i.addClass("ui-tabs-hide");y.element.dequeue("tabs")};this.anchors.bind(x.event+".tabs",function(){var m=this,n=g(m).closest("li"),i=y.panels.filter(":not(.ui-tabs-hide)"),h=g(y._sanitizeSelector(m.hash));if(n.hasClass("ui-tabs-selected")&&!x.collapsible||n.hasClass("ui-state-disabled")||n.hasClass("ui-state-processing")||y._trigger("select",null,y._ui(this,h[0]))===false){this.blur();return false}x.selected=y.anchors.index(this);y.abort();if(x.collapsible){if(n.hasClass("ui-tabs-selected")){x.selected=-1;x.cookie&&y._cookie(x.selected,x.cookie);y.element.queue("tabs",function(){A(m,i)}).dequeue("tabs");this.blur();return false}else{if(!i.length){x.cookie&&y._cookie(x.selected,x.cookie);y.element.queue("tabs",function(){d(m,h)});y.load(y.anchors.index(this));this.blur();return false}}}x.cookie&&y._cookie(x.selected,x.cookie);if(h.length){i.length&&y.element.queue("tabs",function(){A(m,i)});y.element.queue("tabs",function(){d(m,h)});y.load(y.anchors.index(this))}else{throw"jQuery UI Tabs: Mismatching fragment identifier."}g.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return false})},_getIndex:function(d){if(typeof d=="string"){d=this.anchors.index(this.anchors.filter("[href$="+d+"]"))}return d},destroy:function(){var d=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var i=g.data(this,"href.tabs");if(i){this.href=i}var h=g(this).unbind(".tabs");g.each(["href","load","cache"],function(l,j){h.removeData(j+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){g.data(this,"destroy.tabs")?g(this).remove():g(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});d.cookie&&this._cookie(null,d.cookie);return this},add:function(j,n,d){if(d===f){d=this.anchors.length}var o=this,m=this.options;n=g(m.tabTemplate.replace(/#\{href\}/g,j).replace(/#\{label\}/g,n));j=!j.indexOf("#")?j.replace("#",""):this._tabId(g("a",n)[0]);n.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var l=g("#"+j);l.length||(l=g(m.panelTemplate).attr("id",j).data("destroy.tabs",true));l.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(d>=this.lis.length){n.appendTo(this.list);l.appendTo(this.list[0].parentNode)}else{n.insertBefore(this.lis[d]);l.insertBefore(this.panels[d])}m.disabled=g.map(m.disabled,function(h){return h>=d?++h:h});this._tabify();if(this.anchors.length==1){m.selected=0;n.addClass("ui-tabs-selected ui-state-active");l.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){o._trigger("show",null,o._ui(o.anchors[0],o.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[d],this.panels[d]));return this},remove:function(h){h=this._getIndex(h);var i=this.options,d=this.lis.eq(h).remove(),j=this.panels.eq(h).remove();if(d.hasClass("ui-tabs-selected")&&this.anchors.length>1){this.select(h+(h+1<this.anchors.length?1:-1))}i.disabled=g.map(g.grep(i.disabled,function(l){return l!=h}),function(l){return l>=h?--l:l});this._tabify();this._trigger("remove",null,this._ui(d.find("a")[0],j[0]));return this},enable:function(d){d=this._getIndex(d);var h=this.options;if(g.inArray(d,h.disabled)!=-1){this.lis.eq(d).removeClass("ui-state-disabled");h.disabled=g.grep(h.disabled,function(i){return i!=d});this._trigger("enable",null,this._ui(this.anchors[d],this.panels[d]));return this}},disable:function(d){d=this._getIndex(d);var h=this.options;if(d!=h.selected){this.lis.eq(d).addClass("ui-state-disabled");h.disabled.push(d);h.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[d],this.panels[d]))}return this},select:function(d){d=this._getIndex(d);if(d==-1){if(this.options.collapsible&&this.options.selected!=-1){d=this.options.selected}else{return this}}this.anchors.eq(d).trigger(this.options.event+".tabs");return this},load:function(j){j=this._getIndex(j);var n=this,d=this.options,o=this.anchors.eq(j)[0],m=g.data(o,"load.tabs");this.abort();if(!m||this.element.queue("tabs").length!==0&&g.data(o,"cache.tabs")){this.element.dequeue("tabs")}else{this.lis.eq(j).addClass("ui-state-processing");if(d.spinner){var l=g("span",o);l.data("label.tabs",l.html()).html(d.spinner)}this.xhr=g.ajax(g.extend({},d.ajaxOptions,{url:m,success:function(i,p){g(n._sanitizeSelector(o.hash)).html(i);n._cleanup();d.cache&&g.data(o,"cache.tabs",true);n._trigger("load",null,n._ui(n.anchors[j],n.panels[j]));try{d.ajaxOptions.success(i,p)}catch(h){}},error:function(i,p){n._cleanup();n._trigger("load",null,n._ui(n.anchors[j],n.panels[j]));try{d.ajaxOptions.error(i,p,j,o)}catch(h){}}}));n.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup();return this},url:function(d,h){this.anchors.eq(d).removeData("cache.tabs").data("load.tabs",h);return this},length:function(){return this.anchors.length}});g.extend(g.ui.tabs,{version:"1.8.4"});g.extend(g.ui.tabs.prototype,{rotation:null,rotate:function(i,l){var d=this,m=this.options,j=d._rotate||(d._rotate=function(h){clearTimeout(d.rotation);d.rotation=setTimeout(function(){var n=m.selected;d.select(++n<d.anchors.length?n:0)},i);h&&h.stopPropagation()});l=d._unrotate||(d._unrotate=!l?function(h){h.clientX&&d.rotate(null)}:function(){t=m.selected;j()});if(i){this.element.bind("tabsshow",j);this.anchors.bind(m.event+".tabs",l);j()}else{clearTimeout(d.rotation);this.element.unbind("tabsshow",j);this.anchors.unbind(m.event+".tabs",l);delete this._rotate;delete this._unrotate}return this}})})(jQuery);(function(d,G){function L(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};d.extend(this._defaults,this.regional[""]);this.dpDiv=d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible"></div>')}function E(a,b){d.extend(a,b);for(var c in b){if(b[c]==null||b[c]==G){a[c]=b[c]}}return a}d.extend(d.ui,{datepicker:{version:"1.8.4"}});var y=(new Date).getTime();d.extend(L.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){E(this._defaults,a||{});return this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase();f=e=="div"||e=="span";if(!a.id){this.uuid+=1;a.id="dp"+this.uuid}var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{});if(e=="input"){this._connectDatepicker(a,i)}else{f&&this._inlineDatepicker(a,i)}},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);if(!c.hasClass(this.markerClassName)){this._attachments(c,b);c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});this._autoSize(b);d.data(a,"datepicker",b)}},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove();if(c){b.append=d('<span class="'+this._appendClass+'">'+c+"</span>");a[e?"before":"after"](b.append)}a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");if(c=="focus"||c=="both"){a.focus(this._showDatepicker)}if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(f==""?c:d("<img/>").attr({src:f,alt:c,title:c})));a[e?"before":"after"](b.trigger);b.trigger.click(function(){d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]);return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var e=function(f){for(var h=0,i=0,g=0;g<f.length;g++){if(f[g].length>h){h=f[g].length;i=g}}return i};b.setMonth(e(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(e(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);if(!c.hasClass(this.markerClassName)){c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});d.data(a,"datepicker",b);this._setDate(b,this._getDefaultDate(b),true);this._updateDatepicker(b);this._updateAlternate(b)}},_dialogDatepicker:function(a,b,c,e,f){a=this._dialogInst;if(!a){this.uuid+=1;this._dialogInput=d('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);a=this._dialogInst=this._newInst(this._dialogInput,false);a.settings={};d.data(this._dialogInput[0],"datepicker",a)}E(a.settings,e||{});b=b&&b.constructor==Date?this._formatDate(a,b):b;this._dialogInput.val(b);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;if(!this._pos){this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=c;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);d.blockUI&&d.blockUI(this.dpDiv);d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker");if(e=="input"){c.append.remove();c.trigger.remove();b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(e=="div"||e=="span"){b.removeClass(this.markerClassName).empty()}}}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=false;c.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(e=="div"||e=="span"){b.children("."+this._inlineClass).children().removeClass("ui-state-disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=true;c.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(e=="div"||e=="span"){b.children("."+this._inlineClass).children().addClass("ui-state-disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a){return false}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]==a){return true}}return false},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string"){return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},e.settings):this._get(e,b):null}var f=b||{};if(typeof b=="string"){f={};f[b]=c}if(e){this._curInst==e&&this._hideDatepicker();var h=this._getDateDatepicker(a,true);E(e.settings,f);this._attachments(d(a),e);this._autoSize(e);this._setDateDatepicker(a,h);this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a)){this._setDate(a,b);this._updateDatepicker(a);this._updateAlternate(a)}},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=true,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=true;if(d.datepicker._datepickerShowing){switch(a.keyCode){case 9:d.datepicker._hideDatepicker();c=false;break;case 13:c=d("td."+d.datepicker._dayOverClass,b.dpDiv).add(d("td."+d.datepicker._currentClass,b.dpDiv));c[0]?d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]):d.datepicker._hideDatepicker();return false;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:if(a.ctrlKey||a.metaKey){d.datepicker._clearDate(a.target)}c=a.ctrlKey||a.metaKey;break;case 36:if(a.ctrlKey||a.metaKey){d.datepicker._gotoToday(a.target)}c=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?+1:-1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M")}break;case 38:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,-7,"D")}c=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?-1:+1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M")}break;case 40:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,+7,"D")}c=a.ctrlKey||a.metaKey;break;default:c=false}}else{if(a.keyCode==36&&a.ctrlKey){d.datepicker._showDatepicker(this)}else{c=false}}if(c){a.preventDefault();a.stopPropagation()}},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==G?a.keyCode:a.charCode);return a.ctrlKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal){try{if(d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))){d.datepicker._setDateFromField(a);d.datepicker._updateAlternate(a);d.datepicker._updateDatepicker(a)}}catch(b){d.datepicker.log(b)}}return true},_showDatepicker:function(a){a=a.target||a;if(a.nodeName.toLowerCase()!="input"){a=d("input",a.parentNode)[0]}if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput==a)){var b=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=b&&d.datepicker._curInst.dpDiv.stop(true,true);var c=d.datepicker._get(b,"beforeShow");E(b.settings,c?c.apply(a,[a,b]):{});b.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(b);if(d.datepicker._inDialog){a.value=""}if(!d.datepicker._pos){d.datepicker._pos=d.datepicker._findPos(a);d.datepicker._pos[1]+=a.offsetHeight}var e=false;d(a).parents().each(function(){e|=d(this).css("position")=="fixed";return !e});if(e&&d.browser.opera){d.datepicker._pos[0]-=document.documentElement.scrollLeft;d.datepicker._pos[1]-=document.documentElement.scrollTop}c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(b);c=d.datepicker._checkOffset(b,c,e);b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),h=function(){d.datepicker._datepickerShowing=true;var i=d.datepicker._getBorders(b.dpDiv);b.dpDiv.find("iframe.ui-datepicker-cover").css({left:-i[0],top:-i[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})};b.dpDiv.zIndex(d(a).zIndex()+1);d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,h):b.dpDiv[c||"show"](c?f:null,h);if(!c||!f){h()}b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus();d.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this,c=d.datepicker._getBorders(a.dpDiv);a.dpDiv.empty().append(this._generateHTML(a)).find("iframe.ui-datepicker-cover").css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}).end().find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){d(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){if(!b._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])){d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");d(this).addClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).addClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).addClass("ui-datepicker-next-hover")}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();c=this._getNumberOfMonths(a);var e=c[1];e>1?a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em"):a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");a.dpDiv[(c[0]!=1||c[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input.focus()},_getBorders:function(a){var b=function(c){return{thin:1,medium:2,thick:3}[c]||c};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,i=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+d(document).scrollLeft(),k=document.documentElement.clientHeight+d(document).scrollTop();b.left-=this._get(a,"isRTL")?e-h:0;b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top==a.input.offset().top+i?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0);b.top-=Math.min(b.top,b.top+f>k&&k>f?Math.abs(f+i):0);return b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1);){a=a[b?"previousSibling":"nextSibling"]}a=d(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker"))){if(this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b);this._curInst=null};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e);a||e();if(a=this._get(b,"onClose")){a.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b])}this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();d("body").append(this.dpDiv)}}this._inDialog=false}}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(d.datepicker._curInst){a=d(a.target);a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)&&d.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);if(!this._isDisabledDatepicker(a[0])){this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c);this._updateDatepicker(e)}},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay){b.selectedDay=b.currentDay;b.drawMonth=b.selectedMonth=b.currentMonth;b.drawYear=b.selectedYear=b.currentYear}else{var c=new Date;b.selectedDay=c.getDate();b.drawMonth=b.selectedMonth=c.getMonth();b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b);this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e._selectingMonthYear=false;e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_clickMonthYear:function(a){var b=this._getInst(d(a)[0]);b.input&&b._selectingMonthYear&&setTimeout(function(){b.input.focus()},0);b._selectingMonthYear=!b._selectingMonthYear},_selectDay:function(a,b,c,e){var f=d(a);if(!(d(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0]))){f=this._getInst(f[0]);f.selectedDay=f.currentDay=d("a",e).html();f.selectedMonth=f.currentMonth=b;f.selectedYear=f.currentYear=c;this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){a=d(a);this._getInst(a[0]);this._selectDate(a,"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]);b=b!=null?b:this._formatDate(a);a.input&&a.input.val(b);this._updateAlternate(a);var c=this._get(a,"onSelect");if(c){c.apply(a.input?a.input[0]:null,[b,a])}else{a.input&&a.input.trigger("change")}if(a.inline){this._updateDatepicker(a)}else{this._hideDatepicker();this._lastInput=a.input[0];typeof a.input[0]!="object"&&a.input.focus();this._lastInput=null}},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/86400000)/7)+1},parseDate:function(a,b,c){if(a==null||b==null){throw"Invalid arguments"}b=typeof b=="object"?b.toString():b+"";if(b==""){return null}for(var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff,f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,i=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,k=c=-1,l=-1,u=-1,j=false,o=function(p){(p=z+1<a.length&&a.charAt(z+1)==p)&&z++;return p},m=function(p){o(p);p=new RegExp("^\\d{1,"+(p=="@"?14:p=="!"?20:p=="y"?4:p=="o"?3:2)+"}");p=b.substring(s).match(p);if(!p){throw"Missing number at position "+s}s+=p[0].length;return parseInt(p[0],10)},n=function(p,w,H){p=o(p)?H:w;for(w=0;w<p.length;w++){if(b.substr(s,p[w].length)==p[w]){s+=p[w].length;return w+1}}throw"Unknown name at position "+s},r=function(){if(b.charAt(s)!=a.charAt(z)){throw"Unexpected literal at position "+s}s++},s=0,z=0;z<a.length;z++){if(j){if(a.charAt(z)=="'"&&!o("'")){j=false}else{r()}}else{switch(a.charAt(z)){case"d":l=m("d");break;case"D":n("D",f,h);break;case"o":u=m("o");break;case"m":k=m("m");break;case"M":k=n("M",i,g);break;case"y":c=m("y");break;case"@":var v=new Date(m("@"));c=v.getFullYear();k=v.getMonth()+1;l=v.getDate();break;case"!":v=new Date((m("!")-this._ticksTo1970)/10000);c=v.getFullYear();k=v.getMonth()+1;l=v.getDate();break;case"'":if(o("'")){r()}else{j=true}break;default:r()}}}if(c==-1){c=(new Date).getFullYear()}else{if(c<100){c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100)}}if(u>-1){k=1;l=u;do{e=this._getDaysInMonth(c,k-1);if(l<=e){break}k++;l-=e}while(1)}v=this._daylightSavingAdjust(new Date(c,k-1,l));if(v.getFullYear()!=c||v.getMonth()+1!=k||v.getDate()!=l){throw"Invalid date"}return v},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(a,b,c){if(!b){return""}var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var i=function(o){(o=j+1<a.length&&a.charAt(j+1)==o)&&j++;return o},g=function(o,m,n){m=""+m;if(i(o)){for(;m.length<n;){m="0"+m}}return m},k=function(o,m,n,r){return i(o)?r[m]:n[m]},l="",u=false;if(b){for(var j=0;j<a.length;j++){if(u){if(a.charAt(j)=="'"&&!i("'")){u=false}else{l+=a.charAt(j)}}else{switch(a.charAt(j)){case"d":l+=g("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=g("o",(b.getTime()-(new Date(b.getFullYear(),0,0)).getTime())/86400000,3);break;case"m":l+=g("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),h,c);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=b.getTime()*10000+this._ticksTo1970;break;case"'":if(i("'")){l+="'"}else{u=true}break;default:l+=a.charAt(j)}}}}return l},_possibleChars:function(a){for(var b="",c=false,e=function(h){(h=f+1<a.length&&a.charAt(f+1)==h)&&f++;return h},f=0;f<a.length;f++){if(c){if(a.charAt(f)=="'"&&!e("'")){c=false}else{b+=a.charAt(f)}}else{switch(a.charAt(f)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":if(e("'")){b+="'"}else{c=true}break;default:b+=a.charAt(f)}}}return b},_get:function(a,b){return a.settings[b]!==G?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,f,h;f=h=this._getDefaultDate(a);var i=this._getFormatConfig(a);try{f=this.parseDate(c,e,i)||h}catch(g){this.log(g);e=b?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(h){var i=new Date;i.setDate(i.getDate()+h);return i},f=function(h){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),h,d.datepicker._getFormatConfig(a))}catch(i){}var g=(h.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,k=g.getFullYear(),l=g.getMonth();g=g.getDate();for(var u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=u.exec(h);j;){switch(j[2]||"d"){case"d":case"D":g+=parseInt(j[1],10);break;case"w":case"W":g+=parseInt(j[1],10)*7;break;case"m":case"M":l+=parseInt(j[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(k,l));break;case"y":case"Y":k+=parseInt(j[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(k,l));break}j=u.exec(h)}return new Date(k,l,g)};if(b=(b=b==null?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):b)&&b.toString()=="Invalid Date"?c:b){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a){return null}a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,h=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();if((f!=a.selectedMonth||h!=a.selectedYear)&&!c){this._notifyChange(a)}this._adjustInstDate(a);if(a.input){a.input.val(e?"":this._formatDate(a))}},_getDate:function(a){return !a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),h=this._get(a,"navigationAsDateFormat"),i=this._getNumberOfMonths(a),g=this._get(a,"showCurrentAtPos"),k=this._get(a,"stepMonths"),l=i[0]!=1||i[1]!=1,u=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),j=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");g=a.drawMonth-g;var m=a.drawYear;if(g<0){g+=12;m--}if(o){var n=this._daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth()-i[0]*i[1]+1,o.getDate()));for(n=j&&n<j?j:n;this._daylightSavingAdjust(new Date(m,g,1))>n;){g--;if(g<0){g=11;m--}}}a.drawMonth=g;a.drawYear=m;n=this._get(a,"prevText");n=!h?n:this.formatDate(n,this._daylightSavingAdjust(new Date(m,g-k,1)),this._getFormatConfig(a));n=this._canAdjustMonth(a,-1,m,g)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', -"+k+", 'M');\" title=\""+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>";var r=this._get(a,"nextText");r=!h?r:this.formatDate(r,this._daylightSavingAdjust(new Date(m,g+k,1)),this._getFormatConfig(a));f=this._canAdjustMonth(a,+1,m,g)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', +"+k+", 'M');\" title=\""+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>";k=this._get(a,"currentText");r=this._get(a,"gotoCurrent")&&a.currentDay?u:b;k=!h?k:this.formatDate(k,r,this._getFormatConfig(a));h=!a.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+y+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>":"";e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?h:"")+(this._isInRange(a,r)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._gotoToday('#"+a.id+"');\">"+k+"</button>":"")+(c?"":h)+"</div>":"";h=parseInt(this._get(a,"firstDay"),10);h=isNaN(h)?0:h;k=this._get(a,"showWeek");r=this._get(a,"dayNames");this._get(a,"dayNamesShort");var s=this._get(a,"dayNamesMin"),z=this._get(a,"monthNames"),v=this._get(a,"monthNamesShort"),p=this._get(a,"beforeShowDay"),w=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var M=this._getDefaultDate(a),I="",C=0;C<i[0];C++){for(var N="",D=0;D<i[1];D++){var J=this._daylightSavingAdjust(new Date(m,g,a.selectedDay)),t=" ui-corner-all",x="";if(l){x+='<div class="ui-datepicker-group';if(i[1]>1){switch(D){case 0:x+=" ui-datepicker-group-first";t=" ui-corner-"+(c?"right":"left");break;case i[1]-1:x+=" ui-datepicker-group-last";t=" ui-corner-"+(c?"left":"right");break;default:x+=" ui-datepicker-group-middle";t="";break}}x+='">'}x+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+t+'">'+(/all|left/.test(t)&&C==0?c?f:n:"")+(/all|right/.test(t)&&C==0?c?n:f:"")+this._generateMonthYearHeader(a,g,m,j,o,C>0||D>0,z,v)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var A=k?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(t=0;t<7;t++){var q=(t+h)%7;A+="<th"+((t+h+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+r[q]+'">'+s[q]+"</span></th>"}x+=A+"</tr></thead><tbody>";A=this._getDaysInMonth(m,g);if(m==a.selectedYear&&g==a.selectedMonth){a.selectedDay=Math.min(a.selectedDay,A)}t=(this._getFirstDayOfMonth(m,g)-h+7)%7;A=l?6:Math.ceil((t+A)/7);q=this._daylightSavingAdjust(new Date(m,g,1-t));for(var O=0;O<A;O++){x+="<tr>";var P=!k?"":'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(q)+"</td>";for(t=0;t<7;t++){var F=p?p.apply(a.input?a.input[0]:null,[q]):[true,""],B=q.getMonth()!=g,K=B&&!H||!F[0]||j&&q<j||o&&q>o;P+='<td class="'+((t+h+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(q.getTime()==J.getTime()&&g==a.selectedMonth&&a._keyEvent||M.getTime()==q.getTime()&&M.getTime()==J.getTime()?" "+this._dayOverClass:"")+(K?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!w?"":" "+F[1]+(q.getTime()==u.getTime()?" "+this._currentClass:"")+(q.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!B||w)&&F[2]?' title="'+F[2]+'"':"")+(K?"":' onclick="DP_jQuery_'+y+".datepicker._selectDay('#"+a.id+"',"+q.getMonth()+","+q.getFullYear()+', this);return false;"')+">"+(B&&!w?"&#xa0;":K?'<span class="ui-state-default">'+q.getDate()+"</span>":'<a class="ui-state-default'+(q.getTime()==b.getTime()?" ui-state-highlight":"")+(q.getTime()==J.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+'" href="#">'+q.getDate()+"</a>")+"</td>";q.setDate(q.getDate()+1);q=this._daylightSavingAdjust(q)}x+=P+"</tr>"}g++;if(g>11){g=0;m++}x+="</tbody></table>"+(l?"</div>"+(i[0]>0&&D==i[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");N+=x}I+=N}I+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");a._keyEvent=false;return I},_generateMonthYearHeader:function(a,b,c,e,f,h,i,g){var k=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),j='<div class="ui-datepicker-title">',o="";if(h||!k){o+='<span class="ui-datepicker-month">'+i[b]+"</span>"}else{i=e&&e.getFullYear()==c;var m=f&&f.getFullYear()==c;o+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";for(var n=0;n<12;n++){if((!i||n>=e.getMonth())&&(!m||n<=f.getMonth())){o+='<option value="'+n+'"'+(n==b?' selected="selected"':"")+">"+g[n]+"</option>"}}o+="</select>"}u||(j+=o+(h||!(k&&l)?"&#xa0;":""));if(h||!l){j+='<span class="ui-datepicker-year">'+c+"</span>"}else{g=this._get(a,"yearRange").split(":");var r=(new Date).getFullYear();i=function(s){s=s.match(/c[+-].*/)?c+parseInt(s.substring(1),10):s.match(/[+-].*/)?r+parseInt(s,10):parseInt(s,10);return isNaN(s)?r:s};b=i(g[0]);g=Math.max(b,i(g[1]||""));b=e?Math.max(b,e.getFullYear()):b;g=f?Math.min(g,f.getFullYear()):g;for(j+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";b<=g;b++){j+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>"}j+="</select>"}j+=this._get(a,"yearSuffix");if(u){j+=(h||!(k&&l)?"&#xa0;":"")+o}j+="</div>";return j},_adjustInstDate:function(a,b,c){var e=a.drawYear+(c=="Y"?b:0),f=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+(c=="D"?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();if(c=="M"||c=="Y"){this._notifyChange(a)}},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");if(b){b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])}},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,e+(b<0?b:f[0]*f[1]),1));b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear}b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});d.fn.datepicker=function(a){if(!d.datepicker.initialized){d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv);d.datepicker.initialized=true}var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget")){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}return this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})};d.datepicker=new L;d.datepicker.initialized=false;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.8.4";window["DP_jQuery_"+y]=d})(jQuery);(function(a){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var e=this,c=e.options;e.running=0;e.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");e.headers=e.element.find(c.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){c.disabled||a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){c.disabled||a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){c.disabled||a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){c.disabled||a(this).removeClass("ui-state-focus")});e.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(c.navigation){var h=e.element.find("a").filter(c.navigationFilter).eq(0);if(h.length){var g=h.closest(".ui-accordion-header");e.active=g.length?g:h.closest(".ui-accordion-content").prev()}}e.active=e._findActive(e.active||c.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all ui-corner-top");e.active.next().addClass("ui-accordion-content-active");e._createIcons();e.resize();e.element.attr("role","tablist");e.headers.attr("role","tab").bind("keydown.accordion",function(b){return e._keydown(b)}).next().attr("role","tabpanel");e.headers.not(e.active||"").attr({"aria-expanded":"false",tabIndex:-1}).next().hide();e.active.length?e.active.attr({"aria-expanded":"true",tabIndex:0}):e.headers.eq(0).attr("tabIndex",0);a.browser.safari||e.headers.find("a").attr("tabIndex",-1);c.event&&e.headers.bind(c.event.split(" ").join(".accordion ")+".accordion",function(b){e._clickHandler.call(e,b,this);b.preventDefault()})},_createIcons:function(){var b=this.options;if(b.icons){a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers);this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected);this.element.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var d=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabIndex");this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");if(d.autoHeight||d.fillHeight){c.css("height","")}return a.Widget.prototype.destroy.call(this)},_setOption:function(d,c){a.Widget.prototype._setOption.apply(this,arguments);d=="active"&&this.activate(c);if(d=="icons"){this._destroyIcons();c&&this._createIcons()}if(d=="disabled"){this.headers.add(this.headers.next())[c?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")}},_keydown:function(e){if(!(this.options.disabled||e.altKey||e.ctrlKey)){var c=a.ui.keyCode,j=this.headers.length,i=this.headers.index(e.target),h=false;switch(e.keyCode){case c.RIGHT:case c.DOWN:h=this.headers[(i+1)%j];break;case c.LEFT:case c.UP:h=this.headers[(i-1+j)%j];break;case c.SPACE:case c.ENTER:this._clickHandler({target:e.target},e.target);e.preventDefault()}if(h){a(e.target).attr("tabIndex",-1);a(h).attr("tabIndex",0);h.focus();return false}return true}},resize:function(){var e=this.options,c;if(e.fillSpace){if(a.browser.msie){var f=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}c=this.element.parent().height();a.browser.msie&&this.element.parent().css("overflow",f);this.headers.each(function(){c-=a(this).outerHeight(true)});this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else{if(e.autoHeight){c=0;this.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c)}}return this},activate:function(b){this.options.active=b;b=this._findActive(b)[0];this._clickHandler({target:b},b);return this},_findActive:function(b){return b?typeof b==="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===false?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(e,c){var m=this.options;if(!m.disabled){if(e.target){e=a(e.currentTarget||c);c=e[0]===this.active[0];m.active=m.collapsible&&c?false:this.headers.index(e);if(!(this.running||!m.collapsible&&c)){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(m.icons.headerSelected).addClass(m.icons.header);if(!c){e.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(m.icons.header).addClass(m.icons.headerSelected);e.next().addClass("ui-accordion-content-active")}i=e.next();l=this.active.next();j={options:m,newHeader:c&&m.collapsible?a([]):e,oldHeader:this.active,newContent:c&&m.collapsible?a([]):i,oldContent:l};m=this.headers.index(this.active[0])>this.headers.index(e[0]);this.active=c?a([]):e;this._toggle(i,l,j,c,m)}}else{if(m.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(m.icons.headerSelected).addClass(m.icons.header);this.active.next().addClass("ui-accordion-content-active");var l=this.active.next(),j={options:m,newHeader:a([]),oldHeader:m.active,newContent:a([]),oldContent:l},i=this.active=a([]);this._toggle(i,l,j)}}}},_toggle:function(v,u,r,p,o){var n=this,q=n.options;n.toShow=v;n.toHide=u;n.data=r;var l=function(){if(n){return n._completed.apply(n,arguments)}};n._trigger("changestart",null,n.data);n.running=u.size()===0?v.size():u.size();if(q.animated){r={};r=q.collapsible&&p?{toShow:a([]),toHide:u,complete:l,down:o,autoHeight:q.autoHeight||q.fillSpace}:{toShow:v,toHide:u,complete:l,down:o,autoHeight:q.autoHeight||q.fillSpace};if(!q.proxied){q.proxied=q.animated}if(!q.proxiedDuration){q.proxiedDuration=q.duration}q.animated=a.isFunction(q.proxied)?q.proxied(r):q.proxied;q.duration=a.isFunction(q.proxiedDuration)?q.proxiedDuration(r):q.proxiedDuration;p=a.ui.accordion.animations;var m=q.duration,c=q.animated;if(c&&!p[c]&&!a.easing[c]){c="slide"}p[c]||(p[c]=function(b){this.slide(b,{easing:c,duration:m||700})});p[c](r)}else{if(q.collapsible&&p){v.toggle()}else{u.hide();v.show()}l(true)}u.prev().attr({"aria-expanded":"false",tabIndex:-1}).blur();v.prev().attr({"aria-expanded":"true",tabIndex:0}).focus()},_completed:function(b){this.running=b?0:--this.running;if(!this.running){this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""});this.toHide.removeClass("ui-accordion-content-active");this._trigger("change",null,this.data)}}});a.extend(a.ui.accordion,{version:"1.8.5",animations:{slide:function(i,c){i=a.extend({easing:"swing",duration:300},i,c);if(i.toHide.size()){if(i.toShow.size()){var o=i.toShow.css("overflow"),m=0,l={},j={},n;c=i.toShow;n=c[0].style.width;c.width(parseInt(c.parent().width(),10)-parseInt(c.css("paddingLeft"),10)-parseInt(c.css("paddingRight"),10)-(parseInt(c.css("borderLeftWidth"),10)||0)-(parseInt(c.css("borderRightWidth"),10)||0));a.each(["height","paddingTop","paddingBottom"],function(b,d){j[d]="hide";b=(""+a.css(i.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);l[d]={value:b[1],unit:b[2]||"px"}});i.toShow.css({height:0,overflow:"hidden"}).show();i.toHide.filter(":hidden").each(i.complete).end().filter(":visible").animate(j,{step:function(b,d){if(d.prop=="height"){m=d.end-d.start===0?0:(d.now-d.start)/(d.end-d.start)}i.toShow[0].style[d.prop]=m*l[d.prop].value+l[d.prop].unit},duration:i.duration,easing:i.easing,complete:function(){i.autoHeight||i.toShow.css("height","");i.toShow.css({width:n,overflow:o});i.complete()}})}else{i.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},i)}}else{i.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},i)}},bounceslide:function(b){this.slide(b,{easing:b.down?"easeOutBounce":"swing",duration:b.down?1000:200})}}})})(jQuery);(function(b){function a(c){return function(){var d=this;b(window)[c]("scroll",function(){b(d).mozillaAutocomplete("reposition")})}}b.widget("ui.mozillaAutocomplete",b.ui.autocomplete,{options:{requireValidOption:false,onSelect:function(c,d){},onDeselect:function(c){},autocompleteURL:"",styleElement:null,minLength:3,buildRequestData:function(c){return c},labelField:"title",_renderItem:null,_renderItemAsLink:false,open:a("bind"),close:a("unbind")},cache:null,selection:null,lastXHR:null,updateStyles:function(e){var d="ui-autocomplete-input-valid",f="ui-autocomplete-input-invalid",c=this.styleElement;if(e=="all"){c.removeClass(d).removeClass(f)}else{if(e){c.addClass(d).removeClass(f)}else{c.removeClass(d).addClass(f)}}},_suggest:function(c){if(this.isFocused){b.ui.autocomplete.prototype._suggest.call(this,c)}},deselect:function(){var c=this.selection;this.clear();if(this.element.val()&&this.options.requireValidOption){this.updateStyles(false)}this.options.onDeselect(c)},clear:function(){this.selection=null;this.element.attr("title",gettext("No selection"));this.updateStyles("all")},_create:function(){var e=this;b.ui.autocomplete.prototype._create.call(this);if(!this.cache){var d=this.cache={terms:{},keys:{}}}this.isFocused=false;this.element.focus(function(){e.isFocused=true});this.element.blur(function(){e.isFocused=false;var h=e.element.val();if(h&&!this.selection&&!d.keys[h.toLowerCase()]){e._search(h)}});this.styleElement=b(this.options.styleElement||this.element);var g=this.source;this.source=b.isArray(this.options.source)?function(i,h){f(e.options.source);h(b.ui.autocomplete.filter(e.options.source,i.term))}:function(j,h){j=this.options.buildRequestData(j);var i=j.term.toLowerCase();var l=h;h=function(m){l.call(e,m);if(m.length&&d.keys[i]){e.options.select.call(e,null,{item:d.keys[i]},true)}else{e.deselect()}};if(d.terms[i]){h(d.terms[i]);return}e.lastXHR=b.getJSON(e.options.autocompleteUrl,j,function(n,m,o){f(n);b.each(n,function(){d.keys[this.label.toLowerCase()]=this});d.terms[i]=n;if(o==e.lastXHR){h(n)}})};var c=this.options.select;this.options.select=function(i,j,l){var h=e.selection=j.item;if(h.value!=undefined){if(c){c.call(e,i,j)}if(h){e.element.val(h.value)}e.updateStyles(true);e.element.attr("title",gettext("Selected: ")+e.selection.label);e.options.onSelect(h,l)}};this.element.keyup(function(j){var h=e.element.val().toLowerCase(),i=d.keys[h];if(i){e.selection=e.cache.keys[h]}else{e.deselect()}if(j&&j.keyCode==13){j.preventDefault();j.stopPropagation();if(i){e.options.select.call(e,j,{item:e.selection})}return}if(i){e.updateStyles(true);e.options.onSelect(e.selection,true)}});if(e.options.requireValidOption&&e.element.val()){e.search(e.element.val())}function f(h){b.each(h,function(){this.label=this[e.options.labelField]});return h}if(e.options._renderItem){e._renderItem=e.options._renderItem}else{if(e.options._renderItemAsLink){e._renderItem=function(i,h){return b("<li></li>").data("item.autocomplete",h).attr("title",h.url).append(b("<a></a>").text(h.label)).appendTo(i)}}}},reposition:function(){this.menu.element.position(b.extend({of:this.element},this.options.position))}});b.fn.mozPlaceholder=function(){return this.each(function(){var e=b(this),c=e.attr("placeholder");var d=function(){var f=e[0];if(f.value==c){f.value=""}};d();e.bind({blur:d,focus:function(){if(e.val()==""){e.val(c)}}})})}})(jQuery);(function(a){a.widget("ui.tagit",{options:{itemName:"item",fieldName:"tags",availableTags:[],tagSource:null,removeConfirmation:false,caseSensitive:true,allowSpaces:false,singleField:false,singleFieldDelimiter:",",singleFieldNode:null,tabIndex:null,onTagAdded:null,onTagRemoved:null,onTagClicked:null},_create:function(){var d=this;if(this.element.is("input")){this.tagList=a("<ul></ul>").insertAfter(this.element);this.options.singleField=true;this.options.singleFieldNode=this.element;this.element.css("display","none")}else{this.tagList=this.element.find("ul, ol").andSelf().last()}this._tagInput=a('<input type="text">').addClass("ui-widget-content");if(this.options.tabIndex){this._tagInput.attr("tabindex",this.options.tabIndex)}this.options.tagSource=this.options.tagSource||function(f,e){var g=f.term.toLowerCase();var h=a.grep(d.options.availableTags,function(i){return(i.toLowerCase().indexOf(g)===0)});e(d._subtractArray(h,d.assignedTags()))};this.tagList.addClass("tagit").addClass("ui-widget ui-widget-content").append(a('<li class="tagit-new"></li>').append(this._tagInput)).click(function(g){var f=a(g.target);if(f.hasClass("tagit-label")){d._trigger("onTagClicked",g,f.closest(".tagit-choice"))}else{d._tagInput.focus()}});this.tagList.children("li").each(function(){if(!a(this).hasClass("tagit-new")){d.createTag(a(this).html(),a(this).attr("class"));a(this).remove()}});if(this.options.singleField){if(this.options.singleFieldNode){var c=a(this.options.singleFieldNode);var b=c.val().split(this.options.singleFieldDelimiter);c.val("");a.each(b,function(f,e){d.createTag(e)})}else{this.options.singleFieldNode=this.tagList.after('<input type="hidden" style="display:none;" value="" name="'+this.options.fieldName+'">')}}this._tagInput.keydown(function(f){if(f.which==a.ui.keyCode.BACKSPACE&&d._tagInput.val()===""){var e=d._lastTag();if(!d.options.removeConfirmation||e.hasClass("remove")){d.removeTag(e)}else{if(d.options.removeConfirmation){e.addClass("remove ui-state-highlight")}}}else{if(d.options.removeConfirmation){d._lastTag().removeClass("remove ui-state-highlight")}}if(f.which==a.ui.keyCode.COMMA||f.which==a.ui.keyCode.ENTER||(f.which==a.ui.keyCode.TAB&&d._tagInput.val()!=="")||(f.which==a.ui.keyCode.SPACE&&d.options.allowSpaces!==true&&(a.trim(d._tagInput.val()).replace(/^s*/,"").charAt(0)!='"'||(a.trim(d._tagInput.val()).charAt(0)=='"'&&a.trim(d._tagInput.val()).charAt(a.trim(d._tagInput.val()).length-1)=='"'&&a.trim(d._tagInput.val()).length-1!==0)))){f.preventDefault();d.createTag(d._cleanedInput());d._tagInput.autocomplete("close")}}).blur(function(f){d.createTag(d._cleanedInput())});if(this.options.availableTags||this.options.tagSource){this._tagInput.autocomplete({source:this.options.tagSource,select:function(e,f){if(d._tagInput.val()===""){d.removeTag(d._lastTag(),false)}d.createTag(f.item.value);return false}})}},_cleanedInput:function(){return a.trim(this._tagInput.val().replace(/^"(.*)"$/,"$1"))},_lastTag:function(){return this.tagList.children(".tagit-choice:last")},assignedTags:function(){var c=this;var b=[];if(this.options.singleField){b=a(this.options.singleFieldNode).val().split(this.options.singleFieldDelimiter);if(b[0]===""){b=[]}}else{this.tagList.children(".tagit-choice").each(function(){b.push(c.tagLabel(this))})}return b},_updateSingleTagsField:function(b){a(this.options.singleFieldNode).val(b.join(this.options.singleFieldDelimiter))},_subtractArray:function(d,c){var b=[];for(var e=0;e<d.length;e++){if(a.inArray(d[e],c)==-1){b.push(d[e])}}return b},tagLabel:function(b){if(this.options.singleField){return a(b).children(".tagit-label").text()}else{return a(b).children("input").val()}},_isNew:function(d){var c=this;var b=true;this.tagList.children(".tagit-choice").each(function(e){if(c._formatStr(d)==c._formatStr(c.tagLabel(this))){b=false;return false}});return b},_formatStr:function(b){if(this.options.caseSensitive){return b}return a.trim(b.toLowerCase())},createTag:function(i,d){that=this;i=a.trim(i);if(!this._isNew(i)||i===""){return false}var g=a(this.options.onTagClicked?'<a class="tagit-label"></a>':'<span class="tagit-label"></span>').text(i);var c=a("<li></li>").addClass("tagit-choice ui-widget-content ui-state-default").addClass(d).append(g);var e=a("<span></span>").addClass("ui-icon ui-icon-close");var b=a('<a><span class="text-icon">\xd7</span></a>').addClass("close").append(e).click(function(j){that.removeTag(c)});c.append(b);if(this.options.singleField){var f=this.assignedTags();f.push(i);this._updateSingleTagsField(f)}else{var h=g.html();c.append('<input type="hidden" style="display:none;" value="'+h+'" name="'+this.options.itemName+"["+this.options.fieldName+'][]">')}this._trigger("onTagAdded",null,c);this._tagInput.val("");this._tagInput.parent().before(c)},removeTag:function(b,c){if(typeof c==="undefined"){c=true}b=a(b);this._trigger("onTagRemoved",null,b);if(this.options.singleField){var e=this.assignedTags();var d=this.tagLabel(b);e=a.grep(e,function(f){return f!=d});this._updateSingleTagsField(e)}if(c){b.fadeOut("fast",function(){b.remove()}).dequeue()}else{b.remove()}},removeAll:function(){var b=this;this.tagList.children(".tagit-choice").each(function(d,c){b.removeTag(c,false)})}})})(jQuery);(function(a){a(document).ready(function(){var b=a("#tagit_tags");var d=a('<input type="hidden" name="tags" id="hiddenTags" value="'+(b.val()||"")+'" />').appendTo("#page-tags");function e(f){return function(h,g){var i=a("#page-tags .tagit-choice"),j=[];if(!f){i.push(g)}i.each(function(m,n,l){if(f&&this==g[0]){}else{j.push('"'+a(this).find(".tagit-label").text()+'"')}});d.val(j.join(","))}}var c=b.tagit({availableTags:window.INTEREST_SUGGESTIONS||[],singleField:true,allowSpaces:true,singleFieldNode:b,onTagAdded:e(),onTagRemoved:e(true)});b.remove()})})(jQuery);